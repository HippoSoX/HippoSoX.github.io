<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.8.0" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.8.0" type="image/png" sizes="32x32"><meta name="description" content="IV 构建LFS系统                             第8章 构建LFS系统">
<meta property="og:type" content="article">
<meta property="og:title" content="LFS-IV-构建LFS系统">
<meta property="og:url" content="http://hipposox.github.io/2023/01/12/LFS-IV%E6%9E%84%E5%BB%BALFS%E7%B3%BB%E7%BB%9F/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="IV 构建LFS系统                             第8章 构建LFS系统">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-01-12T15:06:17.000Z">
<meta property="article:modified_time" content="2023-01-12T15:25:38.094Z">
<meta property="article:author" content="HippoSoX">
<meta property="article:tag" content="LFS">
<meta name="twitter:card" content="summary"><title>LFS-IV-构建LFS系统 | Hexo</title><link ref="canonical" href="http://hipposox.github.io/2023/01/12/LFS-IV%E6%9E%84%E5%BB%BALFS%E7%B3%BB%E7%BB%9F/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.8.0"><link rel="stylesheet" href="css/custom.css"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"dark","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: true,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"复制","copySuccess":"复制成功","copyError":"复制失败"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 5.4.2"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">归档</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">分类</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">标签</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">erocool</div><div class="header-banner-info__subtitle">You know what</div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">LFS-IV-构建LFS系统</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2023-01-12</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2023-01-12</span></span></div></header><div class="post-body">
        <h1 id="iv-构建lfs系统"   >
          <a href="#iv-构建lfs系统" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#iv-构建lfs系统"></a> IV 构建LFS系统</h1>
      

        <h2 id="第8章-构建lfs系统"   >
          <a href="#第8章-构建lfs系统" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#第8章-构建lfs系统"></a> 第8章 构建LFS系统</h2>
      
<span id="more"></span>

        <h3 id="man-page-513"   >
          <a href="#man-page-513" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#man-page-513"></a> Man-page-5.13</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf man-pages-5.13.tar.xz</span><br><span class="line">cd man-pages-5.13</span><br><span class="line"></span><br><span class="line">make prefix=/usr install</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf man-pages-5.13</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="iana-etc-20210611"   >
          <a href="#iana-etc-20210611" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#iana-etc-20210611"></a> Iana-Etc-20210611</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf iana-etc-20210611.tar.gz</span><br><span class="line">cd iana-etc-20210611</span><br><span class="line"></span><br><span class="line">cp services protocols /etc</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf iana-etc-20210611</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="glibc-234"   >
          <a href="#glibc-234" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#glibc-234"></a> Glibc-2.34</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf glibc-2.34.tar.xz</span><br><span class="line">cd glibc-2.34</span><br><span class="line"></span><br><span class="line">sed -e &#x27;/NOTIFY_REMOVED)/s/)/ \&amp;\&amp; data.attr != NULL)/&#x27; \</span><br><span class="line"> -i sysdeps/unix/sysv/linux/mq_notify.c</span><br><span class="line"></span><br><span class="line">patch -Np1 -i ../glibc-2.34-fhs-1.patch</span><br><span class="line"></span><br><span class="line">mkdir -v build</span><br><span class="line">cd build</span><br><span class="line"></span><br><span class="line">echo &quot;rootsbindir=/usr/sbin&quot; &gt; configparms</span><br><span class="line"></span><br><span class="line">time &#123; ../configure --prefix=/usr \</span><br><span class="line"> --disable-werror \</span><br><span class="line"> --enable-kernel=3.2 \</span><br><span class="line"> --enable-stack-protector=strong \</span><br><span class="line"> --with-headers=/usr/include \</span><br><span class="line"> libc_cv_slibdir=/usr/lib &amp;&amp; make &amp;&amp; make check;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>
<blockquote>
<p>UNSUPPORTED: elf/tst-audit10<br />
UNSUPPORTED: elf/tst-avx512<br />
FAIL: elf/tst-cpu-features-cpuinfo<br />
FAIL: elf/tst-cpu-features-cpuinfo-static<br />
UNSUPPORTED: elf/tst-dlopen-self-container<br />
UNSUPPORTED: elf/tst-dlopen-tlsmodid-container<br />
UNSUPPORTED: elf/tst-env-setuid<br />
UNSUPPORTED: elf/tst-env-setuid-tunables<br />
UNSUPPORTED: elf/tst-glibc-hwcaps-2-cache<br />
UNSUPPORTED: elf/tst-glibc-hwcaps-cache<br />
UNSUPPORTED: elf/tst-glibc-hwcaps-prepend-cache<br />
UNSUPPORTED: elf/tst-ldconfig-bad-aux-cache<br />
UNSUPPORTED: elf/tst-ldconfig-ld_so_conf-update<br />
UNSUPPORTED: elf/tst-pldd<br />
UNSUPPORTED: elf/tst-preload-pthread-libc<br />
XPASS: elf/tst-protected1a<br />
XPASS: elf/tst-protected1b<br />
UNSUPPORTED: grp/tst-initgroups1<br />
UNSUPPORTED: grp/tst-initgroups2<br />
FAIL: io/tst-lchmod<br />
UNSUPPORTED: locale/tst-localedef-path-norm<br />
UNSUPPORTED: localedata/tst-localedef-hardlinks<br />
UNSUPPORTED: math/test-double-libmvec-sincos-avx512<br />
UNSUPPORTED: math/test-float-libmvec-sincosf-avx512<br />
UNSUPPORTED: misc/tst-adjtimex<br />
UNSUPPORTED: misc/tst-clock_adjtime<br />
UNSUPPORTED: misc/tst-close_range<br />
UNSUPPORTED: misc/tst-ntp_adjtime<br />
UNSUPPORTED: misc/tst-pkey<br />
FAIL: misc/tst-ttyname<br />
UNSUPPORTED: nptl/test-cond-printers<br />
UNSUPPORTED: nptl/test-condattr-printers<br />
UNSUPPORTED: nptl/test-mutex-printers<br />
UNSUPPORTED: nptl/test-mutexattr-printers<br />
UNSUPPORTED: nptl/test-rwlock-printers<br />
UNSUPPORTED: nptl/test-rwlockattr-printers<br />
FAIL: nptl/tst-mutex10<br />
UNSUPPORTED: nptl/tst-pthread-gdb-attach<br />
UNSUPPORTED: nptl/tst-pthread-gdb-attach-static<br />
UNSUPPORTED: nptl/tst-pthread-getattr<br />
UNSUPPORTED: nss/tst-nss-compat1<br />
UNSUPPORTED: nss/tst-nss-db-endgrent<br />
UNSUPPORTED: nss/tst-nss-db-endpwent<br />
UNSUPPORTED: nss/tst-nss-files-hosts-long<br />
UNSUPPORTED: nss/tst-nss-test3<br />
UNSUPPORTED: nss/tst-reload1<br />
UNSUPPORTED: nss/tst-reload2<br />
UNSUPPORTED: posix/bug-ga2<br />
UNSUPPORTED: posix/bug-ga2-mem<br />
UNSUPPORTED: posix/tst-vfork3<br />
UNSUPPORTED: posix/tst-vfork3-mem<br />
UNSUPPORTED: resolv/mtrace-tst-leaks2<br />
UNSUPPORTED: resolv/tst-leaks2<br />
UNSUPPORTED: resolv/tst-resolv-ai_idn<br />
UNSUPPORTED: resolv/tst-resolv-ai_idn-latin1<br />
FAIL: stdlib/test-bz22786<br />
UNSUPPORTED: stdlib/tst-secure-getenv<br />
UNSUPPORTED: stdlib/tst-system<br />
UNSUPPORTED: string/tst-memchr-rtm<br />
UNSUPPORTED: string/tst-memcmp-rtm<br />
UNSUPPORTED: string/tst-memmove-rtm<br />
UNSUPPORTED: string/tst-memrchr-rtm<br />
UNSUPPORTED: string/tst-memset-rtm<br />
UNSUPPORTED: string/tst-strchr-rtm<br />
UNSUPPORTED: string/tst-strcpy-rtm<br />
UNSUPPORTED: string/tst-strerror<br />
UNSUPPORTED: string/tst-strlen-rtm<br />
UNSUPPORTED: string/tst-strncmp-rtm<br />
UNSUPPORTED: string/tst-strrchr-rtm<br />
UNSUPPORTED: string/tst-strsignal<br />
UNSUPPORTED: time/tst-clock_settime<br />
UNSUPPORTED: time/tst-settimeofday<br />
Summary of test results:<br />
6 FAIL<br />
4400 PASS<br />
64 UNSUPPORTED<br />
16 XFAIL<br />
2 XPASS</p>
</blockquote>
<p>报错可以选择无视</p>
<p>备份</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">touch /etc/ld.so.conf</span><br><span class="line"></span><br><span class="line">sed &#x27;/test-installation/s@$(PERL)@echo not running@&#x27; -i ../Makefile</span><br><span class="line"></span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">sed &#x27;/RTLDLIST=/s@/usr@@g&#x27; -i /usr/bin/ldd</span><br><span class="line"></span><br><span class="line">cp -v ../nscd/nscd.conf /etc/nscd.conf</span><br><span class="line">mkdir -pv /var/cache/nscd</span><br><span class="line"></span><br><span class="line">install -v -Dm644 ../nscd/nscd.tmpfiles /usr/lib/tmpfiles.d/nscd.conf</span><br><span class="line">install -v -Dm644 ../nscd/nscd.service /usr/lib/systemd/system/nscd.service</span><br><span class="line"></span><br><span class="line">mkdir -pv /usr/lib/locale</span><br><span class="line">localedef -i POSIX -f UTF-8 C.UTF-8 2&gt; /dev/null || true</span><br><span class="line">localedef -i cs_CZ -f UTF-8 cs_CZ.UTF-8</span><br><span class="line">localedef -i de_DE -f ISO-8859-1 de_DE</span><br><span class="line">localedef -i de_DE@euro -f ISO-8859-15 de_DE@euro</span><br><span class="line">localedef -i de_DE -f UTF-8 de_DE.UTF-8</span><br><span class="line">localedef -i el_GR -f ISO-8859-7 el_GR</span><br><span class="line">localedef -i en_GB -f ISO-8859-1 en_GB</span><br><span class="line">localedef -i en_GB -f UTF-8 en_GB.UTF-8</span><br><span class="line">localedef -i en_HK -f ISO-8859-1 en_HK</span><br><span class="line">localedef -i en_PH -f ISO-8859-1 en_PH</span><br><span class="line">localedef -i en_US -f ISO-8859-1 en_US</span><br><span class="line">localedef -i en_US -f UTF-8 en_US.UTF-8</span><br><span class="line">localedef -i es_ES -f ISO-8859-15 es_ES@euro</span><br><span class="line">localedef -i es_MX -f ISO-8859-1 es_MX</span><br><span class="line">localedef -i fa_IR -f UTF-8 fa_IR</span><br><span class="line">localedef -i fr_FR -f ISO-8859-1 fr_FR</span><br><span class="line">localedef -i fr_FR@euro -f ISO-8859-15 fr_FR@euro</span><br><span class="line">localedef -i fr_FR -f UTF-8 fr_FR.UTF-8</span><br><span class="line">localedef -i is_IS -f ISO-8859-1 is_IS</span><br><span class="line">localedef -i is_IS -f UTF-8 is_IS.UTF-8</span><br><span class="line">localedef -i it_IT -f ISO-8859-1 it_IT</span><br><span class="line">localedef -i it_IT -f ISO-8859-15 it_IT@euro</span><br><span class="line">localedef -i it_IT -f UTF-8 it_IT.UTF-8</span><br><span class="line">localedef -i ja_JP -f EUC-JP ja_JP</span><br><span class="line">localedef -i ja_JP -f SHIFT_JIS ja_JP.SIJS 2&gt; /dev/null || true</span><br><span class="line">localedef -i ja_JP -f UTF-8 ja_JP.UTF-8</span><br><span class="line">localedef -i nl_NL@euro -f ISO-8859-15 nl_NL@euro</span><br><span class="line">localedef -i ru_RU -f KOI8-R ru_RU.KOI8-R</span><br><span class="line">localedef -i ru_RU -f UTF-8 ru_RU.UTF-8</span><br><span class="line">localedef -i se_NO -f UTF-8 se_NO.UTF-8</span><br><span class="line">localedef -i ta_IN -f UTF-8 ta_IN.UTF-8</span><br><span class="line">localedef -i tr_TR -f UTF-8 tr_TR.UTF-8</span><br><span class="line">localedef -i zh_CN -f GB18030 zh_CN.GB18030</span><br><span class="line">localedef -i zh_HK -f BIG5-HKSCS zh_HK.BIG5-HKSCS</span><br><span class="line">localedef -i zh_TW -f UTF-8 zh_TW.UTF-8</span><br><span class="line"></span><br><span class="line">make localedata/install-locales</span><br><span class="line"></span><br><span class="line">localedef -i POSIX -f UTF-8 C.UTF-8 2&gt; /dev/null || true</span><br><span class="line">localedef -i ja_JP -f SHIFT_JIS ja_JP.SIJS 2&gt; /dev/null || true</span><br><span class="line"></span><br><span class="line">cat &gt; /etc/nsswitch.conf &lt;&lt; &quot;EOF&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Begin /etc/nsswitch.conf</span></span><br><span class="line">passwd: files</span><br><span class="line">group: files</span><br><span class="line">shadow: files</span><br><span class="line"></span><br><span class="line">hosts: files dns</span><br><span class="line">networks: files</span><br><span class="line"></span><br><span class="line">protocols: files</span><br><span class="line">services: files</span><br><span class="line">ethers: files</span><br><span class="line">rpc: files</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">End /etc/nsswitch.conf</span></span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">tar -xf ../../tzdata2021a.tar.gz</span><br><span class="line"></span><br><span class="line">ZONEINFO=/usr/share/zoneinfo</span><br><span class="line">mkdir -pv $ZONEINFO/&#123;posix,right&#125;</span><br><span class="line"></span><br><span class="line">for tz in etcetera southamerica northamerica europe africa antarctica \</span><br><span class="line"> asia australasia backward; do</span><br><span class="line"> zic -L /dev/null -d $ZONEINFO $&#123;tz&#125;</span><br><span class="line"> zic -L /dev/null -d $ZONEINFO/posix $&#123;tz&#125;</span><br><span class="line"> zic -L leapseconds -d $ZONEINFO/right $&#123;tz&#125;</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">cp -v zone.tab zone1970.tab iso3166.tab $ZONEINFO</span><br><span class="line">zic -d $ZONEINFO -p America/New_York</span><br><span class="line">unset ZONEINFO</span><br><span class="line"></span><br><span class="line">cat &gt; /etc/ld.so.conf &lt;&lt; &quot;EOF&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Begin /etc/ld.so.conf</span></span><br><span class="line">/usr/local/lib</span><br><span class="line">/opt/lib</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">cat &gt;&gt; /etc/ld.so.conf &lt;&lt; &quot;EOF&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Add an include directory</span></span><br><span class="line">include /etc/ld.so.conf.d/*.conf</span><br><span class="line"></span><br><span class="line">EOF</span><br><span class="line">mkdir -pv /etc/ld.so.conf.d</span><br><span class="line"></span><br><span class="line">cd ../..</span><br><span class="line">rm -rf glibc-2.34</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>
<p>报错：bison too old</p>
<p>解决：重新编译了一遍bison</p>

        <h3 id="zlib-1211"   >
          <a href="#zlib-1211" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#zlib-1211"></a> Zlib-1.2.11</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf zlib-1.2.11.tar.xz</span><br><span class="line">cd zlib-1.2.11</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr &amp;&amp; make &amp;&amp; make check &amp;&amp; make install;&#125;</span><br><span class="line"></span><br><span class="line">rm -fv /usr/lib/libz.a</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf zlib-1.2.11</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="bzip2-108"   >
          <a href="#bzip2-108" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#bzip2-108"></a> Bzip2-1.0.8</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf bzip2-1.0.8.tar.gz</span><br><span class="line">cd bzip2-1.0.8</span><br><span class="line"></span><br><span class="line">patch -Np1 -i ../bzip2-1.0.8-install_docs-1.patch</span><br><span class="line"></span><br><span class="line">sed -i &#x27;s@\(ln -s -f \)$(PREFIX)/bin/@\1@&#x27; Makefile</span><br><span class="line">sed -i &quot;s@(PREFIX)/man@(PREFIX)/share/man@g&quot; Makefile</span><br><span class="line"></span><br><span class="line">make -f Makefile-libbz2_so</span><br><span class="line">make clean</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line"></span><br><span class="line">make PREFIX=/usr install</span><br><span class="line"></span><br><span class="line">cp -av libbz2.so.* /usr/lib</span><br><span class="line">ln -sv libbz2.so.1.0.8 /usr/lib/libbz2.so</span><br><span class="line"></span><br><span class="line">cp -v bzip2-shared /usr/bin/bzip2</span><br><span class="line">for i in /usr/bin/&#123;bzcat,bunzip2&#125;; do</span><br><span class="line"> ln -sfv bzip2 $i</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">rm -fv /usr/lib/libbz2.a</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf bzip2-1.0.8</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="xz-525"   >
          <a href="#xz-525" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#xz-525"></a> Xz-5.2.5</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf xz-5.2.5.tar.xz</span><br><span class="line">cd xz-5.2.5</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr    \</span><br><span class="line"> --disable-static \</span><br><span class="line"> --docdir=/usr/share/doc/xz-5.2.5 &amp;&amp; make &amp;&amp; make check &amp;&amp; make install;&#125;</span><br><span class="line"> </span><br><span class="line">cd ..</span><br><span class="line">rm -rf xz-5.2.5</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="zstd-150"   >
          <a href="#zstd-150" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#zstd-150"></a> Zstd-1.5.0</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf zstd-1.5.0.tar.gz</span><br><span class="line">cd zstd-1.5.0</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make check</span><br><span class="line">make prefix=/usr install</span><br><span class="line"></span><br><span class="line">rm -v /usr/lib/libzstd.a</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf zstd-1.5.0</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="file-540"   >
          <a href="#file-540" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#file-540"></a> File-5.40</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf file-5.40.tar.gz</span><br><span class="line">cd file-5.40</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr &amp;&amp; make &amp;&amp; make check &amp;&amp; make install;&#125;</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf file-5.40</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="readline-81"   >
          <a href="#readline-81" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#readline-81"></a> Readline-8.1</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf readline-8.1.tar.gz</span><br><span class="line">cd readline-8.1</span><br><span class="line"></span><br><span class="line">sed -i &#x27;/MV.*old/d&#x27; Makefile.in</span><br><span class="line">sed -i &#x27;/&#123;OLDSUFF&#125;/c:&#x27; support/shlib-install</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr \</span><br><span class="line"> --disable-static \</span><br><span class="line"> --with-curses \</span><br><span class="line"> --docdir=/usr/share/doc/readline-8.1</span><br><span class="line"></span><br><span class="line">make SHLIB_LIBS=&quot;-lncursesw&quot;</span><br><span class="line"></span><br><span class="line">make SHLIB_LIBS=&quot;-lncursesw&quot; install</span><br><span class="line"></span><br><span class="line">install -v -m644 doc/*.&#123;ps,pdf,html,dvi&#125; /usr/share/doc/readline-8.1</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf readline-8.1</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="m4-1419"   >
          <a href="#m4-1419" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#m4-1419"></a> M4-1.4.19</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf m4-1.4.19.tar.xz</span><br><span class="line">cd m4-1.4.19</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr &amp;&amp; make &amp;&amp; make check &amp;&amp; make install;&#125;</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf m4-1.4.19</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="bc-500"   >
          <a href="#bc-500" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#bc-500"></a> Bc-5.0.0</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf bc-5.0.0.tar.xz</span><br><span class="line">cd bc-5.0.0</span><br><span class="line"></span><br><span class="line">time &#123; CC=gcc ./configure --prefix=/usr -G -O3 &amp;&amp; make &amp;&amp; make test &amp;&amp; make install;&#125;</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf bc-5.0.0</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="flex-264"   >
          <a href="#flex-264" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#flex-264"></a> Flex-2.6.4</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf flex-2.6.4.tar.gz</span><br><span class="line">cd flex-2.6.4</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr \</span><br><span class="line"> --docdir=/usr/share/doc/flex-2.6.4 \</span><br><span class="line"> --disable-static &amp;&amp; make &amp;&amp; make check &amp;&amp; make install;&#125;</span><br><span class="line"></span><br><span class="line">ln -sv flex /usr/bin/lex</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf flex-2.6.4</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="tcl-8611"   >
          <a href="#tcl-8611" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#tcl-8611"></a> Tcl-8.6.11</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf tcl8.6.11-src.tar.gz</span><br><span class="line">cd tcl8.6.11</span><br><span class="line"></span><br><span class="line">tar -xf ../tcl8.6.11-html.tar.gz --strip-components=1</span><br><span class="line"></span><br><span class="line">SRCDIR=$(pwd)</span><br><span class="line">cd unix</span><br><span class="line">./configure --prefix=/usr \</span><br><span class="line"> --mandir=/usr/share/man \</span><br><span class="line"><span class="meta prompt_"> $</span><span class="language-bash">([ <span class="string">&quot;<span class="subst">$(uname -m)</span>&quot;</span> = x86_64 ] &amp;&amp; <span class="built_in">echo</span> --enable-64bit)</span></span><br><span class="line"></span><br><span class="line">make</span><br><span class="line"></span><br><span class="line">sed -e &quot;s|$SRCDIR/unix|/usr/lib|&quot; \</span><br><span class="line"> -e &quot;s|$SRCDIR|/usr/include|&quot; \</span><br><span class="line"> -i tclConfig.sh</span><br><span class="line">sed -e &quot;s|$SRCDIR/unix/pkgs/tdbc1.1.2|/usr/lib/tdbc1.1.2|&quot; \</span><br><span class="line"> -e &quot;s|$SRCDIR/pkgs/tdbc1.1.2/generic|/usr/include|&quot; \</span><br><span class="line"> -e &quot;s|$SRCDIR/pkgs/tdbc1.1.2/library|/usr/lib/tcl8.6|&quot; \</span><br><span class="line"> -e &quot;s|$SRCDIR/pkgs/tdbc1.1.2|/usr/include|&quot; \</span><br><span class="line"> -i pkgs/tdbc1.1.2/tdbcConfig.sh</span><br><span class="line">sed -e &quot;s|$SRCDIR/unix/pkgs/itcl4.2.1|/usr/lib/itcl4.2.1|&quot; \</span><br><span class="line"> -e &quot;s|$SRCDIR/pkgs/itcl4.2.1/generic|/usr/include|&quot; \</span><br><span class="line"> -e &quot;s|$SRCDIR/pkgs/itcl4.2.1|/usr/include|&quot; \</span><br><span class="line"> -i pkgs/itcl4.2.1/itclConfig.sh</span><br><span class="line"> </span><br><span class="line">unset SRCDIR</span><br><span class="line"></span><br><span class="line">make test</span><br><span class="line"></span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">chmod -v u+w /usr/lib/libtcl8.6.so</span><br><span class="line"></span><br><span class="line">make install-private-headers</span><br><span class="line"></span><br><span class="line">ln -sfv tclsh8.6 /usr/bin/tclsh</span><br><span class="line"></span><br><span class="line">mv /usr/share/man/man3/&#123;Thread,Tcl_Thread&#125;.3</span><br><span class="line"></span><br><span class="line">cd ../..</span><br><span class="line">rm -rf tcl8.6.11</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="expect-5454"   >
          <a href="#expect-5454" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#expect-5454"></a> Expect-5.45.4</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf expect5.45.4.tar.gz</span><br><span class="line">cd expect5.45.4</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr \</span><br><span class="line"> --with-tcl=/usr/lib \</span><br><span class="line"> --enable-shared \</span><br><span class="line"> --mandir=/usr/share/man \</span><br><span class="line"> --with-tclinclude=/usr/include &amp;&amp; make &amp;&amp; make test &amp;&amp; make install;&#125;</span><br><span class="line"></span><br><span class="line">ln -svf expect5.45.4/libexpect5.45.4.so /usr/lib</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf expect5.45.4</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="dejagnu-163"   >
          <a href="#dejagnu-163" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#dejagnu-163"></a> DejaGNU-1.6.3</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf dejagnu-1.6.3.tar.gz</span><br><span class="line">cd dejagnu-1.6.3</span><br><span class="line"></span><br><span class="line">mkdir -v build</span><br><span class="line">cd build</span><br><span class="line"></span><br><span class="line">../configure --prefix=/usr</span><br><span class="line">makeinfo --html --no-split -o doc/dejagnu.html ../doc/dejagnu.texi</span><br><span class="line">makeinfo --plaintext       -o doc/dejagnu.txt  ../doc/dejagnu.texi</span><br><span class="line"></span><br><span class="line">make install</span><br><span class="line">install -v -dm755  /usr/share/doc/dejagnu-1.6.3</span><br><span class="line">install -v -m644   doc/dejagnu.&#123;html,txt&#125; /usr/share/doc/dejagnu-1.6.3</span><br><span class="line"></span><br><span class="line">make check</span><br><span class="line"></span><br><span class="line">cd ../..</span><br><span class="line">rm -rf dejagnu-1.6.3</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="binutils-237"   >
          <a href="#binutils-237" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#binutils-237"></a> Binutils-2.37</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf ./binutils-2.37.tar.xz </span><br><span class="line">cd binutils-2.37</span><br><span class="line"></span><br><span class="line">expect -c &quot;spawn ls&quot;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">patch -Np1 -i ../binutils-2.37-upstream_fix-1.patch</span><br><span class="line"></span><br><span class="line">sed -i &#x27;63d&#x27; etc/texi2pod.pl</span><br><span class="line">find -name \*.1 -delete</span><br><span class="line"></span><br><span class="line">mkdir -v build</span><br><span class="line">cd build</span><br><span class="line"></span><br><span class="line">../configure --prefix=/usr \</span><br><span class="line"> --enable-gold \</span><br><span class="line"> --enable-ld=default \</span><br><span class="line"> --enable-plugins \</span><br><span class="line"> --enable-shared \</span><br><span class="line"> --disable-werror \</span><br><span class="line"> --enable-64-bit-bfd \</span><br><span class="line"> --with-system-zlib</span><br><span class="line"></span><br><span class="line">make tooldir=/usr</span><br><span class="line"></span><br><span class="line">make -k check</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>
<blockquote>
<p>FAIL: Link with zlib compressed debug output 1<br />
FAIL: Link with zlib compressed debug output 2<br />
FAIL: Link with zlib-gnu compressed debug output 1<br />
FAIL: Link with zlib-gabi compressed debug output 1</p>
<p>make[1]: Target ‘check-host’ not remade because of errors.<br />
make[1]: Nothing to be done for ‘check-target’.<br />
make[1]: Leaving directory ‘/sources/binutils-2.37/build’<br />
make: *** [Makefile:2288: do-check] Error 2<br />
make: Target ‘check’ not remade because of errors.</p>
</blockquote>
<p>已知四项和 zlib 相关的测试可能失败。</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">make tooldir=/usr install -j1</span><br><span class="line"></span><br><span class="line">rm -fv /usr/lib/lib&#123;bfd,ctf,ctf-nobfd,opcodes&#125;.a</span><br><span class="line"></span><br><span class="line">cd ../..</span><br><span class="line">rm -rf binutils-2.37</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="gmp-621"   >
          <a href="#gmp-621" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#gmp-621"></a> GMP-6.2.1</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">tar xf gmp-6.2.1.tar.xz</span><br><span class="line">cd gmp-6.2.1</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr \</span><br><span class="line"> --enable-cxx \</span><br><span class="line"> --disable-static \</span><br><span class="line"> --docdir=/usr/share/doc/gmp-6.2.1</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make html</span><br><span class="line">make check 2&gt;&amp;1 | tee gmp-check-log</span><br><span class="line">awk &#x27;/# PASS:/&#123;total+=$3&#125; ; END&#123;print total&#125;&#x27; gmp-check-log</span><br><span class="line">make install</span><br><span class="line">make install-html</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf gmp-6.2.1</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="mpfr-410"   >
          <a href="#mpfr-410" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#mpfr-410"></a> MPFR-4.1.0</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf mpfr-4.1.0.tar.xz</span><br><span class="line">cd mpfr-4.1.0</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr \</span><br><span class="line"> --disable-static \</span><br><span class="line"> --enable-thread-safe \</span><br><span class="line"> --docdir=/usr/share/doc/mpfr-4.1.0 &amp;&amp; make &amp;&amp; make html &amp;&amp; make check &amp;&amp; make install &amp;&amp; make install-html;&#125;</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf mpfr-4.1.0</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="mpc-121"   >
          <a href="#mpc-121" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#mpc-121"></a> MPC-1.2.1</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf mpc-1.2.1.tar.gz</span><br><span class="line">cd mpc-1.2.1</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr \</span><br><span class="line"> --disable-static \</span><br><span class="line"> --docdir=/usr/share/doc/mpc-1.2.1 &amp;&amp; make &amp;&amp; make html &amp;&amp; make check &amp;&amp; make install &amp;&amp; make install-html;&#125;</span><br><span class="line"> </span><br><span class="line">cd ..</span><br><span class="line">rm -rf mpc-1.2.1</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="attr-251"   >
          <a href="#attr-251" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#attr-251"></a> Attr-2.5.1</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf attr-2.5.1.tar.gz</span><br><span class="line">cd attr-2.5.1</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr \</span><br><span class="line"> --disable-static \</span><br><span class="line"> --sysconfdir=/etc \</span><br><span class="line"> --docdir=/usr/share/doc/attr-2.5.1 &amp;&amp; make &amp;&amp; make check;&#125;</span><br><span class="line"></span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf attr-2.5.1</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="acl-231"   >
          <a href="#acl-231" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#acl-231"></a> Acl-2.3.1</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf acl-2.3.1.tar.xz</span><br><span class="line">cd acl-2.3.1</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr \</span><br><span class="line"> --disable-static \</span><br><span class="line"> --docdir=/usr/share/doc/acl-2.3.1 &amp;&amp; make &amp;&amp; make install;&#125;</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf acl-2.3.1</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="libcap-253"   >
          <a href="#libcap-253" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#libcap-253"></a> Libcap-2.53</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf libcap-2.53.tar.xz</span><br><span class="line">cd libcap-2.53</span><br><span class="line"></span><br><span class="line">sed -i &#x27;/install -m.*STA/d&#x27; libcap/Makefile</span><br><span class="line"></span><br><span class="line">make prefix=/usr lib=lib</span><br><span class="line">make test</span><br><span class="line">make prefix=/usr lib=lib install</span><br><span class="line"></span><br><span class="line">chmod -v 755 /usr/lib/lib&#123;cap,psx&#125;.so.2.53</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf libcap-2.53</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="shadow-49"   >
          <a href="#shadow-49" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#shadow-49"></a> Shadow-4.9</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf shadow-4.9.tar.xz</span><br><span class="line">cd shadow-4.9</span><br><span class="line"></span><br><span class="line">sed -i &#x27;s/groups$(EXEEXT) //&#x27; src/Makefile.in</span><br><span class="line">find man -name Makefile.in -exec sed -i &#x27;s/groups\.1 / /&#x27;   &#123;&#125; \;</span><br><span class="line">find man -name Makefile.in -exec sed -i &#x27;s/getspnam\.3 / /&#x27; &#123;&#125; \;</span><br><span class="line">find man -name Makefile.in -exec sed -i &#x27;s/passwd\.5 / /&#x27;   &#123;&#125; \;</span><br><span class="line"></span><br><span class="line">sed -e &#x27;s:#ENCRYPT_METHOD DES:ENCRYPT_METHOD SHA512:&#x27; \</span><br><span class="line"> -e &#x27;s:/var/spool/mail:/var/mail:&#x27; \</span><br><span class="line"> -e &#x27;/PATH=/&#123;s@/sbin:@@;s@/bin:@@&#125;&#x27; \</span><br><span class="line"> -i etc/login.defs</span><br><span class="line"></span><br><span class="line">sed -e &quot;224s/rounds/min_rounds/&quot; -i libmisc/salt.c</span><br><span class="line"></span><br><span class="line">touch /usr/bin/passwd</span><br><span class="line">./configure --sysconfdir=/etc \</span><br><span class="line"> --with-group-name-max-length=32</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line"></span><br><span class="line">make exec_prefix=/usr install</span><br><span class="line">make -C man install-man</span><br><span class="line">mkdir -p /etc/default</span><br><span class="line">useradd -D --gid 999</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf shadow-4.9</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="gcc-1120"   >
          <a href="#gcc-1120" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#gcc-1120"></a> GCC-11.2.0</h3>
      
<p>编译</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf gcc-11.2.0.tar.xz</span><br><span class="line">cd gcc-11.2.0</span><br><span class="line"></span><br><span class="line">sed -e &#x27;/static.*SIGSTKSZ/d&#x27; \</span><br><span class="line"> -e &#x27;s/return kAltStackSize/return SIGSTKSZ * 4/&#x27; \</span><br><span class="line"> -i libsanitizer/sanitizer_common/sanitizer_posix_libcdep.cpp</span><br><span class="line"></span><br><span class="line">case $(uname -m) in</span><br><span class="line"> x86_64)</span><br><span class="line">sed -e &#x27;/m64=/s/lib64/lib/&#x27; \</span><br><span class="line"> -i.orig gcc/config/i386/t-linux64</span><br><span class="line"> ;;</span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line">mkdir -v build</span><br><span class="line">cd build</span><br><span class="line"></span><br><span class="line">../configure --prefix=/usr \</span><br><span class="line"> LD=ld \</span><br><span class="line"> --enable-languages=c,c++ \</span><br><span class="line"> --disable-multilib \</span><br><span class="line"> --disable-bootstrap \</span><br><span class="line"> --with-system-zlib</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>
<p>以非特权用户身份测试</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ulimit -s 32768</span><br><span class="line"></span><br><span class="line">chown -Rv tester . </span><br><span class="line">su tester -c &quot;PATH=$PATH make -k check&quot;</span><br><span class="line"></span><br><span class="line">../contrib/test_summary</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>
<blockquote>
<p>cat &lt;&lt;‘EOF’ |<br />
LAST_UPDATED: Obtained from git: releases/gcc-11.2.0 revision 7ca388565af176bd4efd4f8db1e5e9e11e98ef45</p>
<p>Native configuration is x86_64-pc-linux-gnu</p>
<pre><code>  === g++ tests ===
</code></pre>
<p>Running target unix<br />
FAIL: g++.dg/asan/asan_test.C   -O2  (test for excess errors)<br />
UNRESOLVED: g++.dg/asan/asan_test.C   -O2  compilation failed to produce executable<br />
WARNING: program timed out<br />
FAIL: g++.dg/gcov/pr16855.C  -std=gnu<ins>2a (test for excess errors)<br />
FAIL: g</ins>.dg/gcov/pr16855.C  -std=gnu<ins>2a execution test<br />
FAIL: g</ins>.dg/gcov/pr16855.C  -std=gnu<ins>2a  line 15: is #####:should be 1<br />
FAIL: g</ins>.dg/gcov/pr16855.C  -std=gnu<ins>2a  line 22: is #####:should be 1<br />
FAIL: g</ins>.dg/gcov/pr16855.C  -std=gnu<ins>2a  line 24: is #####:should be 1<br />
FAIL: g</ins>.dg/gcov/pr16855.C  -std=gnu<ins>2a  line 38: is #####:should be 1<br />
FAIL: g</ins>.dg/gcov/pr16855.C  -std=gnu<ins>2a  line 44: is #####:should be 1<br />
FAIL: g</ins>.dg/gcov/pr16855.C  -std=gnu<ins>2a  line 49: is #####:should be 1<br />
FAIL: g</ins>.dg/gcov/pr16855.C  -std=gnu++2a  gcov: 6 failures in line counts, 0 in branch percentages, 0 in return percentages, 0 in intermediate format</p>
<pre><code>  === g++ Summary ===
</code></pre>

        <h1 id="of-expected-passes207320"   >
          <a href="#of-expected-passes207320" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#of-expected-passes207320"></a> of expected passes		207320</h1>
      

        <h1 id="of-unexpected-failures10"   >
          <a href="#of-unexpected-failures10" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#of-unexpected-failures10"></a> of unexpected failures	10</h1>
      

        <h1 id="of-expected-failures1073"   >
          <a href="#of-expected-failures1073" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#of-expected-failures1073"></a> of expected failures		1073</h1>
      

        <h1 id="of-unresolved-testcases1"   >
          <a href="#of-unresolved-testcases1" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#of-unresolved-testcases1"></a> of unresolved testcases	1</h1>
      

        <h1 id="of-unsupported-tests9048"   >
          <a href="#of-unsupported-tests9048" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#of-unsupported-tests9048"></a> of unsupported tests		9048</h1>
      
<p>/sources/gcc-11.2.0/build/gcc/xg++  version 11.2.0 (GCC)</p>
<pre><code>  === gcc tests ===
</code></pre>
<p>Running target unix<br />
FAIL: gcc.dg/analyzer/analyzer-verbosity-2a.c (test for excess errors)<br />
FAIL: gcc.dg/analyzer/analyzer-verbosity-3a.c (test for excess errors)<br />
FAIL: gcc.dg/analyzer/edges-1.c (test for excess errors)<br />
FAIL: gcc.dg/analyzer/file-1.c (test for excess errors)<br />
FAIL: gcc.dg/analyzer/file-2.c (test for excess errors)<br />
FAIL: gcc.dg/analyzer/file-paths-1.c (test for excess errors)<br />
FAIL: gcc.dg/analyzer/file-pr58237.c (test for excess errors)<br />
FAIL: gcc.dg/analyzer/pr99716-1.c (test for excess errors)</p>
<pre><code>  === gcc Summary ===
</code></pre>

        <h1 id="of-expected-passes160265"   >
          <a href="#of-expected-passes160265" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#of-expected-passes160265"></a> of expected passes		160265</h1>
      

        <h1 id="of-unexpected-failures8"   >
          <a href="#of-unexpected-failures8" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#of-unexpected-failures8"></a> of unexpected failures	8</h1>
      

        <h1 id="of-expected-failures854"   >
          <a href="#of-expected-failures854" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#of-expected-failures854"></a> of expected failures		854</h1>
      

        <h1 id="of-unsupported-tests2393"   >
          <a href="#of-unsupported-tests2393" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#of-unsupported-tests2393"></a> of unsupported tests		2393</h1>
      
<p>/sources/gcc-11.2.0/build/gcc/xgcc  version 11.2.0 (GCC)</p>
<pre><code>  === libatomic tests ===
</code></pre>
<p>Running target unix</p>
<pre><code>  === libatomic Summary ===
</code></pre>

        <h1 id="of-expected-passes54"   >
          <a href="#of-expected-passes54" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#of-expected-passes54"></a> of expected passes		54</h1>
      
<pre><code>  === libgomp tests ===
</code></pre>
<p>Running target unix</p>
<pre><code>  === libgomp Summary ===
</code></pre>

        <h1 id="of-expected-passes2889"   >
          <a href="#of-expected-passes2889" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#of-expected-passes2889"></a> of expected passes		2889</h1>
      

        <h1 id="of-expected-failures4"   >
          <a href="#of-expected-failures4" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#of-expected-failures4"></a> of expected failures		4</h1>
      

        <h1 id="of-unsupported-tests308"   >
          <a href="#of-unsupported-tests308" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#of-unsupported-tests308"></a> of unsupported tests		308</h1>
      
<pre><code>  === libitm tests ===
</code></pre>
<p>Running target unix</p>
<pre><code>  === libitm Summary ===
</code></pre>

        <h1 id="of-expected-passes44"   >
          <a href="#of-expected-passes44" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#of-expected-passes44"></a> of expected passes		44</h1>
      

        <h1 id="of-expected-failures3"   >
          <a href="#of-expected-failures3" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#of-expected-failures3"></a> of expected failures		3</h1>
      

        <h1 id="of-unsupported-tests1"   >
          <a href="#of-unsupported-tests1" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#of-unsupported-tests1"></a> of unsupported tests		1</h1>
      
<pre><code>  === libstdc++ tests ===
</code></pre>
<p>Running target unix<br />
FAIL: 17_intro/headers/c++1998/49745.cc (test for excess errors)<br />
FAIL: 22_locale/numpunct/members/char/3.cc execution test<br />
FAIL: 22_locale/time_get/get_time/char/2.cc execution test<br />
FAIL: 22_locale/time_get/get_time/char/wrapped_env.cc execution test<br />
FAIL: 22_locale/time_get/get_time/char/wrapped_locale.cc execution test<br />
FAIL: 22_locale/time_get/get_time/wchar_t/2.cc execution test<br />
FAIL: 22_locale/time_get/get_time/wchar_t/wrapped_env.cc execution test<br />
FAIL: 22_locale/time_get/get_time/wchar_t/wrapped_locale.cc execution test</p>
<pre><code>  === libstdc++ Summary ===
</code></pre>

        <h1 id="of-expected-passes14823"   >
          <a href="#of-expected-passes14823" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#of-expected-passes14823"></a> of expected passes		14823</h1>
      

        <h1 id="of-unexpected-failures8-2"   >
          <a href="#of-unexpected-failures8-2" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#of-unexpected-failures8-2"></a> of unexpected failures	8</h1>
      

        <h1 id="of-expected-failures104"   >
          <a href="#of-expected-failures104" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#of-expected-failures104"></a> of expected failures		104</h1>
      

        <h1 id="of-unsupported-tests352"   >
          <a href="#of-unsupported-tests352" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#of-unsupported-tests352"></a> of unsupported tests		352</h1>
      
<p>Compiler version: 11.2.0 (GCC)<br />
Platform: x86_64-pc-linux-gnu<br />
configure flags: --prefix=/usr LD=ld --enable-languages=c,c++ --disable-multilib --disable-bootstrap --with-system-zlib<br />
EOF<br />
Mail -s “Results for 11.2.0 (GCC) testsuite on x86_64-pc-linux-gnu” <span class="exturl"><a class="exturl__link"   href="mailto:gcc-testresults@gcc.gnu.org" >gcc-testresults@gcc.gnu.org</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> &amp;&amp;<br />
mv /sources/gcc-11.2.0/build/./gcc/testsuite/g++/g++.sum /sources/gcc-11.2.0/build/./gcc/testsuite/g++/g++.sum.sent &amp;&amp;<br />
mv /sources/gcc-11.2.0/build/./gcc/testsuite/gcc/gcc.sum /sources/gcc-11.2.0/build/./gcc/testsuite/gcc/gcc.sum.sent &amp;&amp;<br />
mv /sources/gcc-11.2.0/build/./x86_64-pc-linux-gnu/libatomic/testsuite/libatomic.sum /sources/gcc-11.2.0/build/./x86_64-pc-linux-gnu/libatomic/testsuite/libatomic.sum.sent &amp;&amp;<br />
mv /sources/gcc-11.2.0/build/./x86_64-pc-linux-gnu/libgomp/testsuite/libgomp.sum /sources/gcc-11.2.0/build/./x86_64-pc-linux-gnu/libgomp/testsuite/libgomp.sum.sent &amp;&amp;<br />
mv /sources/gcc-11.2.0/build/./x86_64-pc-linux-gnu/libitm/testsuite/libitm.sum /sources/gcc-11.2.0/build/./x86_64-pc-linux-gnu/libitm/testsuite/libitm.sum.sent &amp;&amp;<br />
mv /sources/gcc-11.2.0/build/./x86_64-pc-linux-gnu/libstdc+±v3/testsuite/libstdc++.sum /sources/gcc-11.2.0/build/./x86_64-pc-linux-gnu/libstdc+±v3/testsuite/libstdc++.sum.sent &amp;&amp;<br />
mv /sources/gcc-11.2.0/build/./gcc/testsuite/g++/g++.log /sources/gcc-11.2.0/build/./gcc/testsuite/g++/g++.log.sent &amp;&amp;<br />
mv /sources/gcc-11.2.0/build/./gcc/testsuite/gcc/gcc.log /sources/gcc-11.2.0/build/./gcc/testsuite/gcc/gcc.log.sent &amp;&amp;<br />
mv /sources/gcc-11.2.0/build/./x86_64-pc-linux-gnu/libatomic/testsuite/libatomic.log /sources/gcc-11.2.0/build/./x86_64-pc-linux-gnu/libatomic/testsuite/libatomic.log.sent &amp;&amp;<br />
mv /sources/gcc-11.2.0/build/./x86_64-pc-linux-gnu/libgomp/testsuite/libgomp.log /sources/gcc-11.2.0/build/./x86_64-pc-linux-gnu/libgomp/testsuite/libgomp.log.sent &amp;&amp;<br />
mv /sources/gcc-11.2.0/build/./x86_64-pc-linux-gnu/libitm/testsuite/libitm.log /sources/gcc-11.2.0/build/./x86_64-pc-linux-gnu/libitm/testsuite/libitm.log.sent &amp;&amp;<br />
mv /sources/gcc-11.2.0/build/./x86_64-pc-linux-gnu/libstdc+±v3/testsuite/libstdc++.log /sources/gcc-11.2.0/build/./x86_64-pc-linux-gnu/libstdc+±v3/testsuite/libstdc++.log.sent &amp;&amp;<br />
true</p>
</blockquote>
<p>install</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">make install</span><br><span class="line">rm -rf /usr/lib/gcc/$(gcc -dumpmachine)/11.2.0/include-fixed/bits/</span><br><span class="line"></span><br><span class="line">chown -v -R root:root \</span><br><span class="line"> /usr/lib/gcc/*linux-gnu/11.2.0/include&#123;,-fixed&#125;</span><br><span class="line"></span><br><span class="line">ln -svr /usr/bin/cpp /usr/lib</span><br><span class="line"></span><br><span class="line">ln -sfv ../../libexec/gcc/$(gcc -dumpmachine)/11.2.0/liblto_plugin.so \</span><br><span class="line"> /usr/lib/bfd-plugins/</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>
<p>检查工具链</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">echo &#x27;int main()&#123;&#125;&#x27; &gt; dummy.c</span><br><span class="line">cc dummy.c -v -Wl,--verbose &amp;&gt; dummy.log</span><br><span class="line">readelf -l a.out | grep &#x27;: /lib&#x27;</span><br><span class="line"></span><br><span class="line">grep -o &#x27;/usr/lib.*/crt[1in].*succeeded&#x27; dummy.log</span><br><span class="line"></span><br><span class="line">grep -B4 &#x27;^ /usr/include&#x27; dummy.log</span><br><span class="line"></span><br><span class="line">grep &#x27;SEARCH.*/usr/lib&#x27; dummy.log |sed &#x27;s|; |\n|g&#x27;</span><br><span class="line"></span><br><span class="line">grep &quot;/lib.*/libc.so.6 &quot; dummy.log</span><br><span class="line"></span><br><span class="line">grep found dummy.log</span><br><span class="line"></span><br><span class="line">rm -v dummy.c a.out dummy.log</span><br><span class="line"></span><br><span class="line">````</span><br><span class="line"></span><br><span class="line">收尾工作</span><br><span class="line"></span><br><span class="line">```shell</span><br><span class="line">mkdir -pv /usr/share/gdb/auto-load/usr/lib</span><br><span class="line">mv -v /usr/lib/*gdb.py /usr/share/gdb/auto-load/usr/lib</span><br><span class="line"></span><br><span class="line">cd ../..</span><br><span class="line">rm -rf gcc-11.2.0</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="pkg-config-0292"   >
          <a href="#pkg-config-0292" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#pkg-config-0292"></a> Pkg-config-0.29.2</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf pkg-config-0.29.2.tar.gz</span><br><span class="line">cd pkg-config-0.29.2</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr \</span><br><span class="line"> --with-internal-glib \</span><br><span class="line"> --disable-host-tool \</span><br><span class="line"> --docdir=/usr/share/doc/pkg-config-0.29.2 &amp;&amp; make &amp;&amp; make check &amp;&amp; make install;&#125;</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf pkg-config-0.29.2</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="ncurses-62"   >
          <a href="#ncurses-62" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#ncurses-62"></a> Ncurses-6.2</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf ncurses-6.2.tar.gz</span><br><span class="line">cd ncurses-6.2</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr \</span><br><span class="line"> --mandir=/usr/share/man \</span><br><span class="line"> --with-shared \</span><br><span class="line"> --without-debug \</span><br><span class="line"> --without-normal \</span><br><span class="line"> --enable-pc-files \</span><br><span class="line"> --enable-widec &amp;&amp; make &amp;&amp; make install;&#125;</span><br><span class="line"></span><br><span class="line">for lib in ncurses form panel menu ; do</span><br><span class="line"> rm -vf /usr/lib/lib$&#123;lib&#125;.so</span><br><span class="line"> echo &quot;INPUT(-l$&#123;lib&#125;w)&quot; &gt; /usr/lib/lib$&#123;lib&#125;.so</span><br><span class="line"> ln -sfv $&#123;lib&#125;w.pc /usr/lib/pkgconfig/$&#123;lib&#125;.pc</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">rm -vf /usr/lib/libcursesw.so</span><br><span class="line">echo &quot;INPUT(-lncursesw)&quot; &gt; /usr/lib/libcursesw.so</span><br><span class="line">ln -sfv libncurses.so /usr/lib/libcurses.so</span><br><span class="line"></span><br><span class="line">rm -fv /usr/lib/libncurses++w.a</span><br><span class="line"></span><br><span class="line">mkdir -v /usr/share/doc/ncurses-6.2</span><br><span class="line">cp -v -R doc/* /usr/share/doc/ncurses-6.2</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf ncurses-6.2</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="sed-48"   >
          <a href="#sed-48" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#sed-48"></a> Sed-4.8</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf sed-4.8.tar.xz</span><br><span class="line">cd sed-4.8</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make html</span><br><span class="line"></span><br><span class="line">chown -Rv tester .</span><br><span class="line">su tester -c &quot;PATH=$PATH make check&quot;</span><br><span class="line"></span><br><span class="line">make install</span><br><span class="line">install -d -m755 /usr/share/doc/sed-4.8</span><br><span class="line">install -m644 doc/sed.html /usr/share/doc/sed-4.8</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf sed-4.8</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="psmisc-234"   >
          <a href="#psmisc-234" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#psmisc-234"></a> Psmisc-23.4</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf psmisc-23.4.tar.xz</span><br><span class="line">cd psmisc-23.4</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr &amp;&amp; make &amp;&amp; make install;&#125;</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf psmisc-23.4</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="gettext-021"   >
          <a href="#gettext-021" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#gettext-021"></a> Gettext-0.21</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf gettext-0.21.tar.xz</span><br><span class="line">cd gettext-0.21</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr \</span><br><span class="line"> --disable-static \</span><br><span class="line"> --docdir=/usr/share/doc/gettext-0.21 &amp;&amp; make &amp;&amp; make check &amp;&amp; make install;&#125;</span><br><span class="line"></span><br><span class="line">chmod -v 0755 /usr/lib/preloadable_libintl.so</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf gettext-0.21</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="bison-376"   >
          <a href="#bison-376" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#bison-376"></a> Bison-3.7.6</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf bison-3.7.6.tar.xz</span><br><span class="line">cd bison-3.7.6</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr --docdir=/usr/share/doc/bison-3.7.6 &amp;&amp; make &amp;&amp; make check &amp;&amp; make install;&#125;</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf bison-3.7.6</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="grep-37"   >
          <a href="#grep-37" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#grep-37"></a> Grep-3.7</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf grep-3.7.tar.xz</span><br><span class="line">cd grep-3.7</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr &amp;&amp; make &amp;&amp; make check &amp;&amp; make install;&#125;</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf grep-3.7</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="bash-518"   >
          <a href="#bash-518" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#bash-518"></a> Bash-5.1.8</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf bash-5.1.8.tar.gz</span><br><span class="line">cd bash-5.1.8</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr \</span><br><span class="line"> --docdir=/usr/share/doc/bash-5.1.8 \</span><br><span class="line"> --without-bash-malloc \</span><br><span class="line"> --with-installed-readline &amp;&amp; make;&#125;</span><br><span class="line"></span><br><span class="line">chown -Rv tester .</span><br><span class="line"></span><br><span class="line">su -s /usr/bin/expect tester &lt;&lt; EOF</span><br><span class="line">set timeout -1</span><br><span class="line">spawn make tests</span><br><span class="line">expect eof</span><br><span class="line">lassign [wait] _ _ _ value</span><br><span class="line">exit $value</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">exec /bin/bash --login +h</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>
<p>切换shell后会丢失原来复制进去执行的命令队列</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd ..</span><br><span class="line">rm -rf bash-5.1.8</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="libtool-246"   >
          <a href="#libtool-246" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#libtool-246"></a> Libtool-2.4.6</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf libtool-2.4.6.tar.xz</span><br><span class="line">cd libtool-2.4.6</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr &amp;&amp; make &amp;&amp; make check &amp;&amp; make install;&#125;</span><br><span class="line"></span><br><span class="line">rm -fv /usr/lib/libltdl.a</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf libtool-2.4.6</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="gdbm-120"   >
          <a href="#gdbm-120" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#gdbm-120"></a> GDBM-1.20</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf gdbm-1.20.tar.gz</span><br><span class="line">cd gdbm-1.20</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr \</span><br><span class="line"> --disable-static \</span><br><span class="line"> --enable-libgdbm-compat</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make -k check</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf gdbm-1.20</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="gperf-31"   >
          <a href="#gperf-31" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#gperf-31"></a> Gperf-3.1</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf gperf-3.1.tar.gz</span><br><span class="line">cd gperf-3.1</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr --docdir=/usr/share/doc/gperf-3.1</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make -j1 check</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf gperf-3.1</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="expat-241"   >
          <a href="#expat-241" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#expat-241"></a> Expat-2.4.1</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf expat-2.4.1.tar.xz</span><br><span class="line">cd expat-2.4.1</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr \</span><br><span class="line"> --disable-static \</span><br><span class="line"> --docdir=/usr/share/doc/expat-2.4.1</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make check</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">install -v -m644 doc/*.&#123;html,png,css&#125; /usr/share/doc/expat-2.4.1</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf expat-2.4.1</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="inetutils-21"   >
          <a href="#inetutils-21" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#inetutils-21"></a> Inetutils-2.1</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf inetutils-2.1.tar.xz</span><br><span class="line">cd inetutils-2.1</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr \</span><br><span class="line"> --bindir=/usr/bin \</span><br><span class="line"> --localstatedir=/var \</span><br><span class="line"> --disable-logger \</span><br><span class="line"> --disable-whois \</span><br><span class="line"> --disable-rcp \</span><br><span class="line"> --disable-rexec \</span><br><span class="line"> --disable-rlogin \</span><br><span class="line"> --disable-rsh \</span><br><span class="line"> --disable-servers</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make check</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">mv -v /usr/&#123;,s&#125;bin/ifconfig</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf inetutils-2.1</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="less-590"   >
          <a href="#less-590" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#less-590"></a> Less-590</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf less-590.tar.gz</span><br><span class="line">cd less-590</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr --sysconfdir=/etc</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf less-590</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="perl-5340"   >
          <a href="#perl-5340" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#perl-5340"></a> Perl-5.34.0</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf perl-5.34.0.tar.xz</span><br><span class="line">cd perl-5.34.0</span><br><span class="line"></span><br><span class="line">patch -Np1 -i ../perl-5.34.0-upstream_fixes-1.patch</span><br><span class="line"></span><br><span class="line">export BUILD_ZLIB=False</span><br><span class="line">export BUILD_BZIP2=0</span><br><span class="line"></span><br><span class="line">time &#123; sh Configure -des \</span><br><span class="line"> -Dprefix=/usr \</span><br><span class="line"> -Dvendorprefix=/usr \</span><br><span class="line"> -Dprivlib=/usr/lib/perl5/5.34/core_perl \</span><br><span class="line"> -Darchlib=/usr/lib/perl5/5.34/core_perl \</span><br><span class="line"> -Dsitelib=/usr/lib/perl5/5.34/site_perl \</span><br><span class="line"> -Dsitearch=/usr/lib/perl5/5.34/site_perl \</span><br><span class="line"> -Dvendorlib=/usr/lib/perl5/5.34/vendor_perl \</span><br><span class="line"> -Dvendorarch=/usr/lib/perl5/5.34/vendor_perl \</span><br><span class="line"> -Dman1dir=/usr/share/man/man1 \</span><br><span class="line"> -Dman3dir=/usr/share/man/man3 \</span><br><span class="line"> -Dpager=&quot;/usr/bin/less -isR&quot; \</span><br><span class="line"> -Duseshrplib \</span><br><span class="line"> -Dusethreads &amp;&amp; make &amp;&amp; make test &amp;&amp; make install;&#125;</span><br><span class="line">unset BUILD_ZLIB BUILD_BZIP2</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf perl-5.34.0</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="xmlparser-246"   >
          <a href="#xmlparser-246" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#xmlparser-246"></a> XML::Parser-2.46</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf XML-Parser-2.46.tar.gz </span><br><span class="line">cd XML-Parser-2.46</span><br><span class="line"></span><br><span class="line">perl Makefile.PL</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make test</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf XML-Parser-2.46</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="intltool-0510"   >
          <a href="#intltool-0510" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#intltool-0510"></a> Intltool-0.51.0</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf intltool-0.51.0.tar.gz </span><br><span class="line">cd intltool-0.51.0</span><br><span class="line"></span><br><span class="line">sed -i &#x27;s:\\\$&#123;:\\\$\\&#123;:&#x27; intltool-update.in</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr</span><br><span class="line">make</span><br><span class="line">make check</span><br><span class="line"></span><br><span class="line">make install</span><br><span class="line">install -v -Dm644 doc/I18N-HOWTO /usr/share/doc/intltool-0.51.0/I18N-HOWTO</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf intltool-0.51.0</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="autoconf-271"   >
          <a href="#autoconf-271" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#autoconf-271"></a> Autoconf-2.71</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf autoconf-2.71.tar.xz </span><br><span class="line">cd autoconf-2.71</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make check</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf autoconf-2.71</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="automake-1164"   >
          <a href="#automake-1164" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#automake-1164"></a> Automake-1.16.4</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf automake-1.16.4.tar.xz	</span><br><span class="line">cd automake-1.16.4</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr --docdir=/usr/share/doc/automake-1.16.4</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make -j4 check</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf automake-1.16.4</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="kmod-29"   >
          <a href="#kmod-29" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#kmod-29"></a> Kmod-29</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf kmod-29.tar.xz</span><br><span class="line">cd kmod-29</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr \</span><br><span class="line"> --sysconfdir=/etc \</span><br><span class="line"> --with-xz \</span><br><span class="line"> --with-zstd \</span><br><span class="line"> --with-zlib</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line"></span><br><span class="line">make install</span><br><span class="line">for target in depmod insmod modinfo modprobe rmmod; do</span><br><span class="line"> ln -sfv ../bin/kmod /usr/sbin/$target</span><br><span class="line">done</span><br><span class="line">ln -sfv kmod /usr/bin/lsmod</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf kmod-29</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="libelf-from-elfutils-0185"   >
          <a href="#libelf-from-elfutils-0185" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#libelf-from-elfutils-0185"></a> Libelf from Elfutils-0.185</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf elfutils-0.185.tar.bz2	</span><br><span class="line">cd elfutils-0.185</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr \</span><br><span class="line"> --disable-debuginfod \</span><br><span class="line"> --enable-libdebuginfod=dummy</span><br><span class="line">make</span><br><span class="line">make check</span><br><span class="line">make -C libelf install</span><br><span class="line"></span><br><span class="line">install -vm644 config/libelf.pc /usr/lib/pkgconfig</span><br><span class="line">rm /usr/lib/libelf.a</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf elfutils-0.185</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>
<p>报错：</p>
<blockquote>
<p>FAIL: <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="http://run-backtrace-native.sh" >run-backtrace-native.sh</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h1 id="configure"   >
          <a href="#configure" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#configure"></a> configure:</h1>
      
<pre><code>    elfutils: 0.185 (eu_version: 185)
</code></pre>
<p>=====================================================================</p>
<pre><code>Prefix                             : /usr
Program prefix (&quot;eu-&quot; recommended) : eu-
Source code location               : .
Maintainer mode                    : 
build arch                         : x86_64-pc-linux-gnu
</code></pre>
<p>RECOMMENDED FEATURES (should all be yes)<br />
gzip support                       : yes<br />
bzip2 support                      : yes<br />
lzma/xz support                    : yes<br />
zstd support                       : yes<br />
libstdc++ demangle support         : yes<br />
File textrel check                 : yes<br />
Symbol versioning                  : yes</p>
<p>NOT RECOMMENDED FEATURES (should all be no)<br />
Experimental thread safety         : no<br />
install elf.h                      : no</p>
<p>OTHER FEATURES<br />
Deterministic archives by default  : false<br />
Native language support            : yes<br />
Extra Valgrind annotations         : no<br />
libdebuginfod client support       : dummy<br />
Debuginfod server support          : no<br />
Default DEBUGINFOD_URLS            :</p>
<p>EXTRA TEST FEATURES (used with make check)<br />
have bunzip2 installed (required)  : yes<br />
have zstd installed                : yes<br />
debug branch prediction            : no<br />
gprof support                      : no<br />
gcov support                       : no<br />
run all tests under valgrind       : no<br />
gcc undefined behaviour sanitizer  : no<br />
use rpath in tests                 : no<br />
test biarch                        : no</p>

        <h1 id="testsuite-summary-for-elfutils-0185"   >
          <a href="#testsuite-summary-for-elfutils-0185" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#testsuite-summary-for-elfutils-0185"></a> ============================================================================<br />
Testsuite summary for elfutils 0.185</h1>
      

        <h1 id="total-226"   >
          <a href="#total-226" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#total-226"></a> TOTAL: 226</h1>
      

        <h1 id="pass-220"   >
          <a href="#pass-220" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#pass-220"></a> PASS:  220</h1>
      

        <h1 id="skip-5"   >
          <a href="#skip-5" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#skip-5"></a> SKIP:  5</h1>
      

        <h1 id="xfail-0"   >
          <a href="#xfail-0" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#xfail-0"></a> XFAIL: 0</h1>
      

        <h1 id="fail-1"   >
          <a href="#fail-1" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#fail-1"></a> FAIL:  1</h1>
      

        <h1 id="xpass-0"   >
          <a href="#xpass-0" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#xpass-0"></a> XPASS: 0</h1>
      

        <h1 id="error-0"   >
          <a href="#error-0" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#error-0"></a> ERROR: 0</h1>
      
<p>============================================================================<br />
See tests/test-suite.log</p>

        <h1 id="please-report-to-httpssourcewareorgbugzilla"   >
          <a href="#please-report-to-httpssourcewareorgbugzilla" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#please-report-to-httpssourcewareorgbugzilla"></a> Please report to <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://sourceware.org/bugzilla" >https://sourceware.org/bugzilla</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></h1>
      
<p>解决方法：忽视，直接跳过，已有人向官方提交该bug，该bug在0.186版本得到解决。</p>
</blockquote>

        <h3 id="libffi-342"   >
          <a href="#libffi-342" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#libffi-342"></a> Libffi-3.4.2</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf libffi-3.4.2.tar.gz</span><br><span class="line">cd libffi-3.4.2</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr \</span><br><span class="line"> --disable-static \</span><br><span class="line"> --with-gcc-arch=native \</span><br><span class="line"> --disable-exec-static-tramp &amp;&amp; make &amp;&amp; make check &amp;&amp; make install;&#125;</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf libffi-3.4.2</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="openssl-111l"   >
          <a href="#openssl-111l" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#openssl-111l"></a> OpenSSL-1.1.1l</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf openssl-1.1.1l.tar.gz</span><br><span class="line">cd openssl-1.1.1l</span><br><span class="line"></span><br><span class="line">time &#123; ./config --prefix=/usr \</span><br><span class="line"> --openssldir=/etc/ssl \</span><br><span class="line"> --libdir=lib \</span><br><span class="line"> shared \</span><br><span class="line"> zlib-dynamic &amp;&amp; make &amp;&amp; make test;&#125;</span><br><span class="line"></span><br><span class="line">sed -i &#x27;/INSTALL_LIBS/s/libcrypto.a libssl.a//&#x27; Makefile</span><br><span class="line">make MANSUFFIX=ssl install</span><br><span class="line"></span><br><span class="line">mv -v /usr/share/doc/openssl /usr/share/doc/openssl-1.1.1l</span><br><span class="line">cp -vfr doc/* /usr/share/doc/openssl-1.1.1l</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf openssl-1.1.1l</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="python-396"   >
          <a href="#python-396" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#python-396"></a> Python-3.9.6</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf Python-3.9.6.tar.xz</span><br><span class="line">cd Python-3.9.6</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr \</span><br><span class="line"> --enable-shared \</span><br><span class="line"> --with-system-expat \</span><br><span class="line"> --with-system-ffi \</span><br><span class="line"> --with-ensurepip=yes \</span><br><span class="line"> --enable-optimizations &amp;&amp; make &amp;&amp; make install;&#125;</span><br><span class="line"></span><br><span class="line">install -v -dm755 /usr/share/doc/python-3.9.6/html </span><br><span class="line">tar --strip-components=1 \</span><br><span class="line"> --no-same-owner \</span><br><span class="line"> --no-same-permissions \</span><br><span class="line"> -C /usr/share/doc/python-3.9.6/html \</span><br><span class="line"> -xvf ../python-3.9.6-docs-html.tar.bz2</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf Python-3.9.6</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="ninja-1102"   >
          <a href="#ninja-1102" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#ninja-1102"></a> Ninja-1.10.2</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf ninja-1.10.2.tar.gz</span><br><span class="line">cd ninja-1.10.2</span><br><span class="line"></span><br><span class="line">export NINJAJOBS=4</span><br><span class="line"></span><br><span class="line">sed -i &#x27;/int Guess/a \</span><br><span class="line"> int j = 0;\</span><br><span class="line"> char* jobs = getenv( &quot;NINJAJOBS&quot; );\</span><br><span class="line"> if ( jobs != NULL ) j = atoi( jobs );\</span><br><span class="line"> if ( j &gt; 0 ) return j;\</span><br><span class="line">&#x27; src/ninja.cc</span><br><span class="line"></span><br><span class="line">python3 configure.py --bootstrap</span><br><span class="line"></span><br><span class="line">./ninja ninja_test</span><br><span class="line">./ninja_test --gtest_filter=-SubprocessTest.SetWithLots</span><br><span class="line"></span><br><span class="line">install -vm755 ninja /usr/bin/</span><br><span class="line">install -vDm644 misc/bash-completion /usr/share/bash-completion/completions/ninja</span><br><span class="line">install -vDm644 misc/zsh-completion /usr/share/zsh/site-functions/_ninja</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf ninja-1.10.2</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="meson-0591"   >
          <a href="#meson-0591" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#meson-0591"></a> Meson-0.59.1</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf meson-0.59.1.tar.gz</span><br><span class="line">cd meson-0.59.1</span><br><span class="line"></span><br><span class="line">python3 setup.py build</span><br><span class="line"></span><br><span class="line">python3 setup.py install --root=dest</span><br><span class="line">cp -rv dest/* /</span><br><span class="line">install -vDm644 data/shell-completions/bash/meson /usr/share/bash-completion/completions/meson</span><br><span class="line">install -vDm644 data/shell-completions/zsh/_meson /usr/share/zsh/site-functions/_meson</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf meson-0.59.1</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="coreutils-832"   >
          <a href="#coreutils-832" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#coreutils-832"></a> Coreutils-8.32</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf coreutils-8.32.tar.xz</span><br><span class="line">cd coreutils-8.32</span><br><span class="line"></span><br><span class="line">patch -Np1 -i ../coreutils-8.32-i18n-1.patch</span><br><span class="line"></span><br><span class="line">autoreconf -fiv</span><br><span class="line">FORCE_UNSAFE_CONFIGURE=1 ./configure \</span><br><span class="line"> --prefix=/usr \</span><br><span class="line"> --enable-no-install-program=kill,uptime</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make NON_ROOT_USERNAME=tester check-root</span><br><span class="line">echo &quot;dummy:x:102:tester&quot; &gt;&gt; /etc/group</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chown -Rv tester .</span><br><span class="line">su tester -c &quot;PATH=$PATH make RUN_EXPENSIVE_TESTS=yes check&quot;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sed -i &#x27;/dummy/d&#x27; /etc/group</span><br><span class="line">make install</span><br><span class="line">mv -v /usr/bin/chroot /usr/sbin</span><br><span class="line">mv -v /usr/share/man/man1/chroot.1 /usr/share/man/man8/chroot.8</span><br><span class="line">sed -i &#x27;s/&quot;1&quot;/&quot;8&quot;/&#x27; /usr/share/man/man8/chroot.8</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf coreutils-8.32</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="check-0152"   >
          <a href="#check-0152" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#check-0152"></a> Check-0.15.2</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf check-0.15.2.tar.gz</span><br><span class="line">cd check-0.15.2</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr --disable-static &amp;&amp; make &amp;&amp; make check &amp;&amp; make docdir=/usr/share/doc/check-0.15.2 install;&#125;</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf check-0.15.2</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="diffutils-38"   >
          <a href="#diffutils-38" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#diffutils-38"></a> Diffutils-3.8</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf diffutils-3.8.tar.xz</span><br><span class="line">cd diffutils-3.8</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr &amp;&amp; make &amp;&amp; make check &amp;&amp; make install;&#125;</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf diffutils-3.8</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="gawk-510"   >
          <a href="#gawk-510" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#gawk-510"></a> Gawk-5.1.0</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf gawk-5.1.0.tar.xz</span><br><span class="line">cd gawk-5.1.0</span><br><span class="line"></span><br><span class="line">sed -i &#x27;s/extras//&#x27; Makefile.in</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr &amp;&amp; make &amp;&amp; make check &amp;&amp; make install;&#125;</span><br><span class="line"></span><br><span class="line">mkdir -v /usr/share/doc/gawk-5.1.0</span><br><span class="line">cp -v doc/&#123;awkforai.txt,*.&#123;eps,pdf,jpg&#125;&#125; /usr/share/doc/gawk-5.1.0</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf gawk-5.1.0</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="findutils-480"   >
          <a href="#findutils-480" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#findutils-480"></a> Findutils-4.8.0</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf findutils-4.8.0.tar.xz</span><br><span class="line">cd findutils-4.8.0</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr --localstatedir=/var/lib/locate</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line"></span><br><span class="line">chown -Rv tester .</span><br><span class="line">su tester -c &quot;PATH=$PATH make check&quot;</span><br><span class="line"></span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf findutils-4.8.0</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="groff-1224"   >
          <a href="#groff-1224" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#groff-1224"></a> Groff-1.22.4</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf groff-1.22.4.tar.gz</span><br><span class="line">cd groff-1.22.4</span><br><span class="line"></span><br><span class="line">PAGE=A4 ./configure --prefix=/usr</span><br><span class="line">make -j1</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf groff-1.22.4</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>
<p>应将configure中环境变量PAGE的值&lt;page_size&gt;指定为A4</p>

        <h3 id="grub-206"   >
          <a href="#grub-206" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#grub-206"></a> GRUB-2.06</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf grub-2.06.tar.xz</span><br><span class="line">cd grub-2.06</span><br><span class="line"></span><br><span class="line">time &#123; ./configure --prefix=/usr \</span><br><span class="line"> --sysconfdir=/etc \</span><br><span class="line"> --disable-efiemu \</span><br><span class="line"> --disable-werror &amp;&amp; make &amp;&amp; make install;&#125;</span><br><span class="line"></span><br><span class="line">mv -v /etc/bash_completion.d/grub /usr/share/bash-completion/completions</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf grub-2.06</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="gzip-110"   >
          <a href="#gzip-110" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#gzip-110"></a> Gzip-1.10</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf gzip-1.10.tar.xz</span><br><span class="line">cd gzip-1.10</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr</span><br><span class="line">make</span><br><span class="line">make check</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf gzip-1.10</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="iproute2-5130"   >
          <a href="#iproute2-5130" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#iproute2-5130"></a> IPRoute2-5.13.0</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf iproute2-5.13.0.tar.xz</span><br><span class="line">cd iproute2-5.13.0</span><br><span class="line"></span><br><span class="line">sed -i /ARPD/d Makefile</span><br><span class="line">rm -fv man/man8/arpd.8</span><br><span class="line"></span><br><span class="line">sed -i &#x27;s/.m_ipt.o//&#x27; tc/Makefile</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line"></span><br><span class="line">make SBINDIR=/usr/sbin install</span><br><span class="line"></span><br><span class="line">mkdir -v /usr/share/doc/iproute2-5.13.0</span><br><span class="line">cp -v COPYING README* /usr/share/doc/iproute2-5.13.0</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf iproute2-5.13.0</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="kbd-240"   >
          <a href="#kbd-240" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#kbd-240"></a> Kbd-2.4.0</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf kbd-2.4.0.tar.xz</span><br><span class="line">cd kbd-2.4.0</span><br><span class="line"></span><br><span class="line">patch -Np1 -i ../kbd-2.4.0-backspace-1.patch</span><br><span class="line"></span><br><span class="line">sed -i &#x27;/RESIZECONS_PROGS=/s/yes/no/&#x27; configure</span><br><span class="line">sed -i &#x27;s/resizecons.8 //&#x27; docs/man/man8/Makefile.in</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr --disable-vlock</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make check</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">mkdir -v /usr/share/doc/kbd-2.4.0</span><br><span class="line">cp -R -v docs/doc/* /usr/share/doc/kbd-2.4.0</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf kbd-2.4.0</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="libpipeline-153"   >
          <a href="#libpipeline-153" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#libpipeline-153"></a> Libpipeline-1.5.3</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf libpipeline-1.5.3.tar.gz</span><br><span class="line">cd libpipeline-1.5.3</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr</span><br><span class="line">make</span><br><span class="line">make check</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf libpipeline-1.5.3</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="make-43"   >
          <a href="#make-43" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#make-43"></a> Make-4.3</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf make-4.3.tar.gz</span><br><span class="line">cd make-4.3</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make check</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf make-4.3</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="patch-276"   >
          <a href="#patch-276" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#patch-276"></a> Patch-2.7.6</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf patch-2.7.6.tar.xz</span><br><span class="line">cd patch-2.7.6</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make check</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf patch-2.7.6</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="tar-134"   >
          <a href="#tar-134" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#tar-134"></a> Tar-1.34</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf tar-1.34.tar.xz</span><br><span class="line">cd tar-1.34</span><br><span class="line"></span><br><span class="line">time &#123; FORCE_UNSAFE_CONFIGURE=1 \</span><br><span class="line">./configure --prefix=/usr &amp;&amp; make &amp;&amp; make check &amp;&amp; make install;&#125;</span><br><span class="line"></span><br><span class="line">make -C doc install-html docdir=/usr/share/doc/tar-1.34</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf tar-1.34</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="texinfo-68"   >
          <a href="#texinfo-68" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#texinfo-68"></a> Texinfo-6.8</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf texinfo-6.8.tar.xz</span><br><span class="line">cd texinfo-6.8</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr</span><br><span class="line"></span><br><span class="line">sed -e &#x27;s/__attribute_nonnull__/__nonnull/&#x27; \</span><br><span class="line"> -i gnulib/lib/malloc/dynarray-skeleton.c</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make check</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">make TEXMF=/usr/share/texmf install-tex</span><br><span class="line"></span><br><span class="line">pushd /usr/share/info</span><br><span class="line"> rm -v dir</span><br><span class="line"> for f in *</span><br><span class="line"> do install-info $f dir 2&gt;/dev/null</span><br><span class="line"> done</span><br><span class="line">popd</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf texinfo-6.8</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="vim-823337"   >
          <a href="#vim-823337" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#vim-823337"></a> Vim-8.2.3337</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf vim-8.2.3337.tar.gz</span><br><span class="line">cd vim-8.2.3337</span><br><span class="line"></span><br><span class="line">echo &#x27;#define SYS_VIMRC_FILE &quot;/etc/vimrc&quot;&#x27; &gt;&gt; src/feature.h</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line"></span><br><span class="line">chown -Rv tester .</span><br><span class="line">su tester -c &quot;LANG=en_US.UTF-8 make -j1 test&quot; &amp;&gt; vim-test.log</span><br><span class="line"></span><br><span class="line">make install</span><br><span class="line">ln -sv vim /usr/bin/vi</span><br><span class="line">for L in /usr/share/man/&#123;,*/&#125;man1/vim.1; do</span><br><span class="line"> ln -sv vim.1 $(dirname $L)/vi.1</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">ln -sv ../vim/vim82/doc /usr/share/doc/vim-8.2.3337</span><br><span class="line"></span><br><span class="line">cat &gt; /etc/vimrc &lt;&lt; &quot;EOF&quot;</span><br><span class="line">&quot; Begin /etc/vimrc</span><br><span class="line">&quot; Ensure defaults are set before customizing settings, not after</span><br><span class="line">source $VIMRUNTIME/defaults.vim</span><br><span class="line">let skip_defaults_vim=1 </span><br><span class="line">set nocompatible</span><br><span class="line">set backspace=2</span><br><span class="line">set mouse=</span><br><span class="line">syntax on</span><br><span class="line">if (&amp;term == &quot;xterm&quot;) || (&amp;term == &quot;putty&quot;)</span><br><span class="line"> set background=dark</span><br><span class="line">endif</span><br><span class="line">&quot; End /etc/vimrc</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">vim -c &#x27;:options&#x27;</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf vim-8.2.3337</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="eudev-3210"   >
          <a href="#eudev-3210" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#eudev-3210"></a> Eudev-3.2.10</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf eudev-3.2.10.tar.gz</span><br><span class="line">cd eudev-3.2.10</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr \</span><br><span class="line"> --bindir=/usr/sbin \</span><br><span class="line"> --sysconfdir=/etc \</span><br><span class="line"> --enable-manpages \</span><br><span class="line"> --disable-stati</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line"></span><br><span class="line">mkdir -pv /usr/lib/udev/rules.d</span><br><span class="line">mkdir -pv /etc/udev/rules.d</span><br><span class="line"></span><br><span class="line">make check</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">tar -xvf ../udev-lfs-20171102.tar.xz</span><br><span class="line">make -f udev-lfs-20171102/Makefile.lfs install</span><br><span class="line"></span><br><span class="line">udevadm hwdb --update</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf eudev-3.2.10</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="man-db-294"   >
          <a href="#man-db-294" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#man-db-294"></a> Man-DB-2.9.4</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf man-db-2.9.4.tar.xz</span><br><span class="line">cd man-db-2.9.4</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr \</span><br><span class="line"> --docdir=/usr/share/doc/man-db-2.9.4 \</span><br><span class="line"> --sysconfdir=/etc \</span><br><span class="line"> --disable-setuid \</span><br><span class="line"> --enable-cache-owner=bin \</span><br><span class="line"> --with-browser=/usr/bin/lynx \</span><br><span class="line"> --with-vgrind=/usr/bin/vgrind \</span><br><span class="line"> --with-grap=/usr/bin/grap \</span><br><span class="line"> --with-systemdtmpfilesdir= \</span><br><span class="line"> --with-systemdsystemunitdir=</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make check</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf man-db-2.9.4</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="procps-ng-3317"   >
          <a href="#procps-ng-3317" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#procps-ng-3317"></a> Procps-ng-3.3.17</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf procps-ng-3.3.17.tar.xz</span><br><span class="line">cd procps-3.3.17</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr \</span><br><span class="line"> --docdir=/usr/share/doc/procps-ng-3.3.17 \</span><br><span class="line"> --disable-static \</span><br><span class="line"> --disable-kill</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make check</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf procps-3.3.17</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="util-linux-2372"   >
          <a href="#util-linux-2372" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#util-linux-2372"></a> Util-linux-2.37.2</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf util-linux-2.37.2.tar.xz</span><br><span class="line">cd util-linux-2.37.2</span><br><span class="line"></span><br><span class="line">./configure ADJTIME_PATH=/var/lib/hwclock/adjtime \</span><br><span class="line"> --libdir=/usr/lib \</span><br><span class="line"> --docdir=/usr/share/doc/util-linux-2.37.2 \</span><br><span class="line"> --disable-chfn-chsh \</span><br><span class="line"> --disable-login \</span><br><span class="line"> --disable-nologin \</span><br><span class="line"> --disable-su \</span><br><span class="line"> --disable-setpriv \</span><br><span class="line"> --disable-runuser \</span><br><span class="line"> --disable-pylibmount \</span><br><span class="line"> --disable-static \</span><br><span class="line"> --without-python \</span><br><span class="line"> --without-systemd \</span><br><span class="line"> --without-systemdsystemunitdir \</span><br><span class="line"> runstatedir=/run</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line"></span><br><span class="line">rm tests/ts/lsns/ioctl_ns</span><br><span class="line">chown -Rv tester .</span><br><span class="line">su tester -c &quot;make -k check&quot;</span><br><span class="line"></span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf util-linux-2.37.2</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="e2fsprogs-1464"   >
          <a href="#e2fsprogs-1464" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#e2fsprogs-1464"></a> E2fsprogs-1.46.4</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf e2fsprogs-1.46.4.tar.gz</span><br><span class="line">cd e2fsprogs-1.46.4</span><br><span class="line"></span><br><span class="line">mkdir -v build</span><br><span class="line">cd build</span><br><span class="line"></span><br><span class="line">time &#123; ../configure --prefix=/usr \</span><br><span class="line"> --sysconfdir=/etc \</span><br><span class="line"> --enable-elf-shlibs \</span><br><span class="line"> --disable-libblkid \</span><br><span class="line"> --disable-libuuid \</span><br><span class="line"> --disable-uuidd \</span><br><span class="line"> --disable-fsck &amp;&amp; make &amp;&amp; make check &amp;&amp; make install;&#125;</span><br><span class="line"></span><br><span class="line">rm -fv /usr/lib/&#123;libcom_err,libe2p,libext2fs,libss&#125;.a</span><br><span class="line"></span><br><span class="line">gunzip -v /usr/share/info/libext2fs.info.gz</span><br><span class="line">install-info --dir-file=/usr/share/info/dir /usr/share/info/libext2fs.info</span><br><span class="line"></span><br><span class="line">makeinfo -o doc/com_err.info ../lib/et/com_err.texinfo</span><br><span class="line">install -v -m644 doc/com_err.info /usr/share/info</span><br><span class="line">install-info --dir-file=/usr/share/info/dir /usr/share/info/com_err.info</span><br><span class="line"></span><br><span class="line">cd ../..</span><br><span class="line">rm -rf e2fsprogs-1.46.4</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="sysklogd-151"   >
          <a href="#sysklogd-151" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#sysklogd-151"></a> Sysklogd-1.5.1</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf sysklogd-1.5.1.tar.gz</span><br><span class="line">cd sysklogd-1.5.1</span><br><span class="line"></span><br><span class="line">sed -i &#x27;/Error loading kernel symbols/&#123;n;n;d&#125;&#x27; ksym_mod.c</span><br><span class="line">sed -i &#x27;s/union wait/int/&#x27; syslogd.c</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make BINDIR=/sbin install</span><br><span class="line"></span><br><span class="line">cat &gt; /etc/syslog.conf &lt;&lt; &quot;EOF&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Begin /etc/syslog.conf</span></span><br><span class="line">auth,authpriv.* -/var/log/auth.log</span><br><span class="line">*.*;auth,authpriv.none -/var/log/sys.log</span><br><span class="line">daemon.* -/var/log/daemon.log</span><br><span class="line">kern.* -/var/log/kern.log</span><br><span class="line">mail.* -/var/log/mail.log</span><br><span class="line">user.* -/var/log/user.log</span><br><span class="line">*.emerg *</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">End /etc/syslog.conf</span></span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf sysklogd-1.5.1</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="sysvinit-299"   >
          <a href="#sysvinit-299" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#sysvinit-299"></a> Sysvinit-2.99</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf sysvinit-2.99.tar.xz</span><br><span class="line">cd sysvinit-2.99</span><br><span class="line"></span><br><span class="line">patch -Np1 -i ../sysvinit-2.99-consolidated-1.patch</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf sysvinit-2.99</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="剥离移除调试符号"   >
          <a href="#剥离移除调试符号" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#剥离移除调试符号"></a> 剥离/移除调试符号</h3>
      
<p>本节可选。</p>
<p>默认情况下，大多数程序和库都包含调试符号（使用<strong>gcc</strong>的*<code>-g</code>*选项）进行<strong>编译</strong>。这意味着在调试使用调试信息编译的程序或库时，调试器不仅可以提供内存地址，还可以提供例程和变量的名称。</p>
<p>但是，包含这些调试符号会显着扩大程序或库。以下是这些符号占用空间量的示例：</p>
<ul>
<li>一个<strong>bash的</strong>二进制与调试符号：1200 KB</li>
<li>一个<strong>bash的</strong>二进制不带调试符号：480 KB</li>
<li>带有调试符号的 Glibc 和 GCC 文件（<code>/lib</code>和 <code>/usr/lib</code>）：87 MB</li>
<li>不带调试符号的 Glibc 和 GCC 文件：16 MB</li>
</ul>
<p>大小可能因使用的编译器和 C 库而异，但在比较有和没有调试符号的程序时，差异通常是 2 到 5 之间的一个因素。</p>
<p>因为大多数用户永远不会在他们的系统软件上使用调试器，所以通过删除这些符号可以重新获得大量磁盘空间。下一节将展示如何从程序和库中去除所有调试符号。</p>
<p>大多数使用以下命令的用户不会遇到什么困难。但是，如果打错了命令，很容易导致新系统无法使用，因此在运行 strip 命令前，最好备份 LFS 系统的当前状态。</p>
<p>一些库的调试符号需要保存在单独的文件中。之后在 BLFS 中，如果使用 valgrind 或 gdb 运行退化测试，则需要这些调试信息的存在。</p>
<p>需要注意的是，strip 命令会覆盖它正在处理的二进制程序或库文件。这可能导致正在使用该文件中代码或数据的进程崩溃。如果运行 strip 本身的进程受到影响，则可能导致正在被处理的程序或库完全损坏。这可能导致系统完全不可用。为了避免这种情况，将一些库和程序复制到 /tmp 中，在那里移除调试符号，再使用 install 命令将它们安装回原位置。</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">save_usrlib=&quot;$(cd /usr/lib; ls ld-linux*)</span><br><span class="line">             libc.so.6</span><br><span class="line">             libthread_db.so.1</span><br><span class="line">             libquadmath.so.0.0.0 </span><br><span class="line">             libstdc++.so.6.0.29</span><br><span class="line">             libitm.so.1.0.0 </span><br><span class="line">             libatomic.so.1.2.0&quot; </span><br><span class="line"></span><br><span class="line">cd /usr/lib</span><br><span class="line"></span><br><span class="line">for LIB in $save_usrlib; do</span><br><span class="line">    objcopy --only-keep-debug $LIB $LIB.dbg</span><br><span class="line">    cp $LIB /tmp/$LIB</span><br><span class="line">    strip --strip-unneeded /tmp/$LIB</span><br><span class="line">    objcopy --add-gnu-debuglink=$LIB.dbg /tmp/$LIB</span><br><span class="line">    install -vm755 /tmp/$LIB /usr/lib</span><br><span class="line">    rm /tmp/$LIB</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">online_usrbin=&quot;bash find strip&quot;</span><br><span class="line">online_usrlib=&quot;libbfd-2.37.so</span><br><span class="line">               libhistory.so.8.1</span><br><span class="line">               libncursesw.so.6.2</span><br><span class="line">               libm.so.6</span><br><span class="line">               libreadline.so.8.1</span><br><span class="line">               libz.so.1.2.11</span><br><span class="line">               $(cd /usr/lib; find libnss*.so* -type f)&quot;</span><br><span class="line"></span><br><span class="line">for BIN in $online_usrbin; do</span><br><span class="line">    cp /usr/bin/$BIN /tmp/$BIN</span><br><span class="line">    strip --strip-unneeded /tmp/$BIN</span><br><span class="line">    install -vm755 /tmp/$BIN /usr/bin</span><br><span class="line">    rm /tmp/$BIN</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">for LIB in $online_usrlib; do</span><br><span class="line">    cp /usr/lib/$LIB /tmp/$LIB</span><br><span class="line">    strip --strip-unneeded /tmp/$LIB</span><br><span class="line">    install -vm755 /tmp/$LIB /usr/lib</span><br><span class="line">    rm /tmp/$LIB</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">for i in $(find /usr/lib -type f -name \*.so* ! -name \*dbg) \</span><br><span class="line">         $(find /usr/lib -type f -name \*.a)                 \</span><br><span class="line">         $(find /usr/&#123;bin,sbin,libexec&#125; -type f); do</span><br><span class="line">    case &quot;$online_usrbin $online_usrlib $save_usrlib&quot; in</span><br><span class="line">        *$(basename $i)* ) </span><br><span class="line">            ;;</span><br><span class="line">        * ) strip --strip-unneeded $i </span><br><span class="line">            ;;</span><br><span class="line">    esac</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">unset BIN LIB save_usrlib online_usrbin online_usrlib</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="清理系统"   >
          <a href="#清理系统" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#清理系统"></a> 清理系统</h3>
      
<p>清理一些在执行过程中遗留的一些文件。</p>
<p>现在需要登出，并使用新的chroot命令重新进入chroot环境。</p>
<p>这里不再使用 +h 选项，因为所有之前安装的程序都已经替换成了最终版本，可以进行散列。</p>
<p>如果解除了虚拟内核文件系统的挂载，必须通过手动或重启系统的方式重新挂载它们，保证在进入 chroot 时它们已经挂载好。第 7.3.2 节 “挂载和填充 /dev”和第 7.3.3 节 “挂载虚拟内核文件系统”已经说明了这一过程。</p>
<p>在 /usr/lib 和 /usr/libexec 目录中还有一些扩展名为 .la 的文件。它们是 “libtool 档案” 文件。正如我们已经讨论过的，它们在链接到共享库，特别是使用 autotools 以外的构建系统时，是不必要，甚至有害的。执行以下命令删除它们：</p>
<p>上文中构建的编译器仍然有一部分安装在系统上，它现在已经没有存在的意义了。执行命令删除它：</p>
<p>最后，移除上文开始时创建的临时 ‘tester’ 用户账户。</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">rm -rf /tmp/*</span><br><span class="line"></span><br><span class="line">logout</span><br><span class="line">chroot &quot;$LFS&quot; /usr/bin/env -i \</span><br><span class="line"> HOME=/root TERM=&quot;$TERM&quot; \</span><br><span class="line"> PS1=&#x27;(lfs chroot) \u:\w\$ &#x27; \</span><br><span class="line"> PATH=/usr/bin:/usr/sbin \</span><br><span class="line"> /bin/bash --login</span><br><span class="line"></span><br><span class="line">find /usr/lib /usr/libexec -name \*.la -delete</span><br><span class="line"></span><br><span class="line">find /usr -depth -name $(uname -m)-lfs-linux-gnu\* | xargs rm -rf</span><br><span class="line"></span><br><span class="line">userdel -r tester</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="重启后恢复工作状态-3"   >
          <a href="#重启后恢复工作状态-3" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#重启后恢复工作状态-3"></a> 重启后恢复工作状态 #3</h3>
      
<p>从现在开始，在退出并重新进入chroot环境时，要使用以下修改过的chroot命令.</p>
<p>如果解除了虚拟内核文件系统的挂载，必须通过手动或重启系统的方式重新挂载它们，保证在进入 chroot 时它们已经挂载好。第 7.3.2 节 “挂载和填充 /dev”和第 7.3.3 节 “挂载虚拟内核文件系统”已经说明了这一过程。</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">chroot &quot;$LFS&quot; /usr/bin/env -i          \</span><br><span class="line">HOME=/root TERM=&quot;$TERM&quot;            \</span><br><span class="line">PS1=&#x27;(lfs chroot) \u:\w\$ &#x27;        \</span><br><span class="line">PATH=/usr/bin:/usr/sbin            \</span><br><span class="line">    /bin/bash --login</span><br></pre></td></tr></table></div></figure>
</div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ 本文结束，感谢您的阅读 ------</div></div><div class="post-copyright copyright"><div class="copyright-author"><span class="copyright-author__name">本文作者: </span><span class="copyright-author__value"><a href="http://hipposox.github.io">HippoSoX</a></span></div><div class="copyright-link"><span class="copyright-link__name">本文链接: </span><span class="copyright-link__value"><a href="http://hipposox.github.io/2023/01/12/LFS-IV%E6%9E%84%E5%BB%BALFS%E7%B3%BB%E7%BB%9F/">http://hipposox.github.io/2023/01/12/LFS-IV%E6%9E%84%E5%BB%BALFS%E7%B3%BB%E7%BB%9F/</a></span></div><div class="copyright-notice"><span class="copyright-notice__name">版权声明: </span><span class="copyright-notice__value">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="external nofollow" target="_blank">BY-NC-SA</a> 许可协议。转载请注明出处！</span></div></div><div class="post-tags"><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="http://hipposox.github.io/tags/LFS/">LFS</a></span></div><nav class="post-paginator paginator"><div class="paginator-prev"><a class="paginator-prev__link" href="/2023/01/12/LFS-V-%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE/"><span class="paginator-prev__icon"><i class="fas fa-angle-left"></i></span><span class="paginator-prev__text">LFS-V-系统配置</span></a></div><div class="paginator-next"><a class="paginator-next__link" href="/2023/01/12/LFS-III-%E6%9E%84%E5%BB%BALFS%E4%BA%A4%E5%8F%89%E5%B7%A5%E5%85%B7%E9%93%BE%E5%92%8C%E4%B8%B4%E6%97%B6%E5%B7%A5%E5%85%B7/"><span class="paginator-prev__text">LFS-III-构建LFS交叉工具链和临时工具</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">文章目录</span><span class="sidebar-nav-ov">站点概览</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#iv-%E6%9E%84%E5%BB%BAlfs%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.</span> <span class="toc-text">
           IV 构建LFS系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC8%E7%AB%A0-%E6%9E%84%E5%BB%BAlfs%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.1.</span> <span class="toc-text">
           第8章 构建LFS系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#man-page-513"><span class="toc-number">1.1.1.</span> <span class="toc-text">
           Man-page-5.13</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#iana-etc-20210611"><span class="toc-number">1.1.2.</span> <span class="toc-text">
           Iana-Etc-20210611</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#glibc-234"><span class="toc-number">1.1.3.</span> <span class="toc-text">
           Glibc-2.34</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#zlib-1211"><span class="toc-number">1.1.4.</span> <span class="toc-text">
           Zlib-1.2.11</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bzip2-108"><span class="toc-number">1.1.5.</span> <span class="toc-text">
           Bzip2-1.0.8</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#xz-525"><span class="toc-number">1.1.6.</span> <span class="toc-text">
           Xz-5.2.5</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#zstd-150"><span class="toc-number">1.1.7.</span> <span class="toc-text">
           Zstd-1.5.0</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#file-540"><span class="toc-number">1.1.8.</span> <span class="toc-text">
           File-5.40</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#readline-81"><span class="toc-number">1.1.9.</span> <span class="toc-text">
           Readline-8.1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#m4-1419"><span class="toc-number">1.1.10.</span> <span class="toc-text">
           M4-1.4.19</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bc-500"><span class="toc-number">1.1.11.</span> <span class="toc-text">
           Bc-5.0.0</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#flex-264"><span class="toc-number">1.1.12.</span> <span class="toc-text">
           Flex-2.6.4</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tcl-8611"><span class="toc-number">1.1.13.</span> <span class="toc-text">
           Tcl-8.6.11</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#expect-5454"><span class="toc-number">1.1.14.</span> <span class="toc-text">
           Expect-5.45.4</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dejagnu-163"><span class="toc-number">1.1.15.</span> <span class="toc-text">
           DejaGNU-1.6.3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#binutils-237"><span class="toc-number">1.1.16.</span> <span class="toc-text">
           Binutils-2.37</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gmp-621"><span class="toc-number">1.1.17.</span> <span class="toc-text">
           GMP-6.2.1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mpfr-410"><span class="toc-number">1.1.18.</span> <span class="toc-text">
           MPFR-4.1.0</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mpc-121"><span class="toc-number">1.1.19.</span> <span class="toc-text">
           MPC-1.2.1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#attr-251"><span class="toc-number">1.1.20.</span> <span class="toc-text">
           Attr-2.5.1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#acl-231"><span class="toc-number">1.1.21.</span> <span class="toc-text">
           Acl-2.3.1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#libcap-253"><span class="toc-number">1.1.22.</span> <span class="toc-text">
           Libcap-2.53</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shadow-49"><span class="toc-number">1.1.23.</span> <span class="toc-text">
           Shadow-4.9</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gcc-1120"><span class="toc-number">1.1.24.</span> <span class="toc-text">
           GCC-11.2.0</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#of-expected-passes207320"><span class="toc-number">2.</span> <span class="toc-text">
           of expected passes		207320</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#of-unexpected-failures10"><span class="toc-number">3.</span> <span class="toc-text">
           of unexpected failures	10</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#of-expected-failures1073"><span class="toc-number">4.</span> <span class="toc-text">
           of expected failures		1073</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#of-unresolved-testcases1"><span class="toc-number">5.</span> <span class="toc-text">
           of unresolved testcases	1</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#of-unsupported-tests9048"><span class="toc-number">6.</span> <span class="toc-text">
           of unsupported tests		9048</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#of-expected-passes160265"><span class="toc-number">7.</span> <span class="toc-text">
           of expected passes		160265</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#of-unexpected-failures8"><span class="toc-number">8.</span> <span class="toc-text">
           of unexpected failures	8</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#of-expected-failures854"><span class="toc-number">9.</span> <span class="toc-text">
           of expected failures		854</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#of-unsupported-tests2393"><span class="toc-number">10.</span> <span class="toc-text">
           of unsupported tests		2393</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#of-expected-passes54"><span class="toc-number">11.</span> <span class="toc-text">
           of expected passes		54</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#of-expected-passes2889"><span class="toc-number">12.</span> <span class="toc-text">
           of expected passes		2889</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#of-expected-failures4"><span class="toc-number">13.</span> <span class="toc-text">
           of expected failures		4</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#of-unsupported-tests308"><span class="toc-number">14.</span> <span class="toc-text">
           of unsupported tests		308</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#of-expected-passes44"><span class="toc-number">15.</span> <span class="toc-text">
           of expected passes		44</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#of-expected-failures3"><span class="toc-number">16.</span> <span class="toc-text">
           of expected failures		3</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#of-unsupported-tests1"><span class="toc-number">17.</span> <span class="toc-text">
           of unsupported tests		1</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#of-expected-passes14823"><span class="toc-number">18.</span> <span class="toc-text">
           of expected passes		14823</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#of-unexpected-failures8-2"><span class="toc-number">19.</span> <span class="toc-text">
           of unexpected failures	8</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#of-expected-failures104"><span class="toc-number">20.</span> <span class="toc-text">
           of expected failures		104</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#of-unsupported-tests352"><span class="toc-number">21.</span> <span class="toc-text">
           of unsupported tests		352</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pkg-config-0292"><span class="toc-number">21.0.1.</span> <span class="toc-text">
           Pkg-config-0.29.2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ncurses-62"><span class="toc-number">21.0.2.</span> <span class="toc-text">
           Ncurses-6.2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sed-48"><span class="toc-number">21.0.3.</span> <span class="toc-text">
           Sed-4.8</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#psmisc-234"><span class="toc-number">21.0.4.</span> <span class="toc-text">
           Psmisc-23.4</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gettext-021"><span class="toc-number">21.0.5.</span> <span class="toc-text">
           Gettext-0.21</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bison-376"><span class="toc-number">21.0.6.</span> <span class="toc-text">
           Bison-3.7.6</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#grep-37"><span class="toc-number">21.0.7.</span> <span class="toc-text">
           Grep-3.7</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bash-518"><span class="toc-number">21.0.8.</span> <span class="toc-text">
           Bash-5.1.8</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#libtool-246"><span class="toc-number">21.0.9.</span> <span class="toc-text">
           Libtool-2.4.6</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gdbm-120"><span class="toc-number">21.0.10.</span> <span class="toc-text">
           GDBM-1.20</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gperf-31"><span class="toc-number">21.0.11.</span> <span class="toc-text">
           Gperf-3.1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#expat-241"><span class="toc-number">21.0.12.</span> <span class="toc-text">
           Expat-2.4.1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#inetutils-21"><span class="toc-number">21.0.13.</span> <span class="toc-text">
           Inetutils-2.1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less-590"><span class="toc-number">21.0.14.</span> <span class="toc-text">
           Less-590</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#perl-5340"><span class="toc-number">21.0.15.</span> <span class="toc-text">
           Perl-5.34.0</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#xmlparser-246"><span class="toc-number">21.0.16.</span> <span class="toc-text">
           XML::Parser-2.46</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#intltool-0510"><span class="toc-number">21.0.17.</span> <span class="toc-text">
           Intltool-0.51.0</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#autoconf-271"><span class="toc-number">21.0.18.</span> <span class="toc-text">
           Autoconf-2.71</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#automake-1164"><span class="toc-number">21.0.19.</span> <span class="toc-text">
           Automake-1.16.4</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#kmod-29"><span class="toc-number">21.0.20.</span> <span class="toc-text">
           Kmod-29</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#libelf-from-elfutils-0185"><span class="toc-number">21.0.21.</span> <span class="toc-text">
           Libelf from Elfutils-0.185</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#configure"><span class="toc-number">22.</span> <span class="toc-text">
           configure:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#testsuite-summary-for-elfutils-0185"><span class="toc-number">23.</span> <span class="toc-text">
           &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
Testsuite summary for elfutils 0.185</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#total-226"><span class="toc-number">24.</span> <span class="toc-text">
           TOTAL: 226</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#pass-220"><span class="toc-number">25.</span> <span class="toc-text">
           PASS:  220</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#skip-5"><span class="toc-number">26.</span> <span class="toc-text">
           SKIP:  5</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#xfail-0"><span class="toc-number">27.</span> <span class="toc-text">
           XFAIL: 0</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#fail-1"><span class="toc-number">28.</span> <span class="toc-text">
           FAIL:  1</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#xpass-0"><span class="toc-number">29.</span> <span class="toc-text">
           XPASS: 0</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#error-0"><span class="toc-number">30.</span> <span class="toc-text">
           ERROR: 0</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#please-report-to-httpssourcewareorgbugzilla"><span class="toc-number">31.</span> <span class="toc-text">
           Please report to https:&#x2F;&#x2F;sourceware.org&#x2F;bugzilla</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#libffi-342"><span class="toc-number">31.0.1.</span> <span class="toc-text">
           Libffi-3.4.2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#openssl-111l"><span class="toc-number">31.0.2.</span> <span class="toc-text">
           OpenSSL-1.1.1l</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#python-396"><span class="toc-number">31.0.3.</span> <span class="toc-text">
           Python-3.9.6</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ninja-1102"><span class="toc-number">31.0.4.</span> <span class="toc-text">
           Ninja-1.10.2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#meson-0591"><span class="toc-number">31.0.5.</span> <span class="toc-text">
           Meson-0.59.1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#coreutils-832"><span class="toc-number">31.0.6.</span> <span class="toc-text">
           Coreutils-8.32</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#check-0152"><span class="toc-number">31.0.7.</span> <span class="toc-text">
           Check-0.15.2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#diffutils-38"><span class="toc-number">31.0.8.</span> <span class="toc-text">
           Diffutils-3.8</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gawk-510"><span class="toc-number">31.0.9.</span> <span class="toc-text">
           Gawk-5.1.0</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#findutils-480"><span class="toc-number">31.0.10.</span> <span class="toc-text">
           Findutils-4.8.0</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#groff-1224"><span class="toc-number">31.0.11.</span> <span class="toc-text">
           Groff-1.22.4</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#grub-206"><span class="toc-number">31.0.12.</span> <span class="toc-text">
           GRUB-2.06</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gzip-110"><span class="toc-number">31.0.13.</span> <span class="toc-text">
           Gzip-1.10</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#iproute2-5130"><span class="toc-number">31.0.14.</span> <span class="toc-text">
           IPRoute2-5.13.0</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#kbd-240"><span class="toc-number">31.0.15.</span> <span class="toc-text">
           Kbd-2.4.0</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#libpipeline-153"><span class="toc-number">31.0.16.</span> <span class="toc-text">
           Libpipeline-1.5.3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#make-43"><span class="toc-number">31.0.17.</span> <span class="toc-text">
           Make-4.3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#patch-276"><span class="toc-number">31.0.18.</span> <span class="toc-text">
           Patch-2.7.6</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tar-134"><span class="toc-number">31.0.19.</span> <span class="toc-text">
           Tar-1.34</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#texinfo-68"><span class="toc-number">31.0.20.</span> <span class="toc-text">
           Texinfo-6.8</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vim-823337"><span class="toc-number">31.0.21.</span> <span class="toc-text">
           Vim-8.2.3337</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#eudev-3210"><span class="toc-number">31.0.22.</span> <span class="toc-text">
           Eudev-3.2.10</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#man-db-294"><span class="toc-number">31.0.23.</span> <span class="toc-text">
           Man-DB-2.9.4</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#procps-ng-3317"><span class="toc-number">31.0.24.</span> <span class="toc-text">
           Procps-ng-3.3.17</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#util-linux-2372"><span class="toc-number">31.0.25.</span> <span class="toc-text">
           Util-linux-2.37.2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#e2fsprogs-1464"><span class="toc-number">31.0.26.</span> <span class="toc-text">
           E2fsprogs-1.46.4</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sysklogd-151"><span class="toc-number">31.0.27.</span> <span class="toc-text">
           Sysklogd-1.5.1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sysvinit-299"><span class="toc-number">31.0.28.</span> <span class="toc-text">
           Sysvinit-2.99</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%A5%E7%A6%BB%E7%A7%BB%E9%99%A4%E8%B0%83%E8%AF%95%E7%AC%A6%E5%8F%B7"><span class="toc-number">31.0.29.</span> <span class="toc-text">
           剥离&#x2F;移除调试符号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%85%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">31.0.30.</span> <span class="toc-text">
           清理系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%90%AF%E5%90%8E%E6%81%A2%E5%A4%8D%E5%B7%A5%E4%BD%9C%E7%8A%B6%E6%80%81-3"><span class="toc-number">31.0.31.</span> <span class="toc-text">
           重启后恢复工作状态 #3</span></a></li></ol></li></ol></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/icons/stun-logo.svg" alt="avatar"></div><p class="sidebar-ov-author__text">motto</p></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">18</div><div class="sidebar-ov-state-item__name">归档</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">4</div><div class="sidebar-ov-state-item__name">分类</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">14</div><div class="sidebar-ov-state-item__name">标签</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="知识共享许可协议" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">你已阅读了 </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div class="sidebar-reading-line"></div></div><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1449790718&auto=1&height=66"></iframe></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2023</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>HippoSoX</span></div><div><span>由 <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> 强力驱动</span><span> v5.4.2</span><span class="footer__devider">|</span><span>主题 - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.8.0</span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lazyload@2.0.0-rc.2/lazyload.min.js"></script><script src="/js/utils.js?v=2.8.0"></script><script src="/js/stun-boot.js?v=2.8.0"></script><script src="/js/scroll.js?v=2.8.0"></script><script src="/js/header.js?v=2.8.0"></script><script src="/js/sidebar.js?v=2.8.0"></script></body></html>