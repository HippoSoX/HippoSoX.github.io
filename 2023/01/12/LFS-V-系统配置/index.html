<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.8.0" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.8.0" type="image/png" sizes="32x32"><meta name="description" content="V 系统配置        引导 Linux 系统涉及多项任务。该进程必须挂载虚拟和真实文件系统，初始化设备，激活交换，检查文件系统的完整性，挂载任何交换分区或文件，设置系统时钟，启动网络，启动系统所需的任何守护进程，并完成任何用户需要的其他自定义任务。必须组织此过程以确保以正确的顺序执行任务，但同时尽可能快地执行。                      第9节 系统配">
<meta property="og:type" content="article">
<meta property="og:title" content="LFS-V-系统配置">
<meta property="og:url" content="http://hipposox.github.io/2023/01/12/LFS-V-%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="V 系统配置        引导 Linux 系统涉及多项任务。该进程必须挂载虚拟和真实文件系统，初始化设备，激活交换，检查文件系统的完整性，挂载任何交换分区或文件，设置系统时钟，启动网络，启动系统所需的任何守护进程，并完成任何用户需要的其他自定义任务。必须组织此过程以确保以正确的顺序执行任务，但同时尽可能快地执行。                      第9节 系统配">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-01-12T15:15:18.000Z">
<meta property="article:modified_time" content="2023-01-12T15:25:43.650Z">
<meta property="article:author" content="HippoSoX">
<meta property="article:tag" content="LFS">
<meta name="twitter:card" content="summary"><title>LFS-V-系统配置 | Hexo</title><link ref="canonical" href="http://hipposox.github.io/2023/01/12/LFS-V-%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.8.0"><link rel="stylesheet" href="css/custom.css"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"dark","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: true,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"复制","copySuccess":"复制成功","copyError":"复制失败"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 5.4.2"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">归档</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">分类</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">标签</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">erocool</div><div class="header-banner-info__subtitle">You know what</div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">LFS-V-系统配置</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2023-01-12</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2023-01-12</span></span></div></header><div class="post-body">
        <h1 id="v-系统配置"   >
          <a href="#v-系统配置" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#v-系统配置"></a> V 系统配置</h1>
      
<p>引导 Linux 系统涉及多项任务。该进程必须挂载虚拟和真实文件系统，初始化设备，激活交换，检查文件系统的完整性，挂载任何交换分区或文件，设置系统时钟，启动网络，启动系统所需的任何守护进程，并完成任何用户需要的其他自定义任务。必须组织此过程以确保以正确的顺序执行任务，但同时尽可能快地执行。</p>

        <h2 id="第9节-系统配置"   >
          <a href="#第9节-系统配置" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#第9节-系统配置"></a> 第9节 系统配置</h2>
      
<span id="more"></span>

        <h3 id="system-v"   >
          <a href="#system-v" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#system-v"></a> system V</h3>
      
<p>System V 是自 1983 年左右开始在 Unix 和类 Unix 系统（如 Linux）中使用的经典引导过程。它由一个小程序<strong>init 组成</strong>，它设置诸如<strong>登录</strong>（通过 getty）之类的基本程序并运行一个脚本. 该脚本通常名为<strong>rc</strong>，它控制一组附加脚本的执行，这些脚本执行初始化系统所需的任务。</p>
<p>该<strong>初始化</strong>程序是由控制<code>/etc/inittab</code>文件，并整理成可以由用户运行的运行级别：</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">0 — halt</span><br><span class="line">1 — Single user mode</span><br><span class="line">2 — Multiuser, without networking</span><br><span class="line">3 — Full multiuser mode</span><br><span class="line">4 — User definable</span><br><span class="line">5 — Full multiuser mode with display manager</span><br><span class="line">6 — reboot</span><br></pre></td></tr></table></div></figure>

        <h4 id="好处"   >
          <a href="#好处" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#好处"></a> 好处</h4>
      
<ul>
<li>制度完善，人尽皆知。</li>
<li>易于定制。</li>
</ul>

        <h4 id="缺点"   >
          <a href="#缺点" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#缺点"></a> 缺点</h4>
      
<ul>
<li>启动速度可能较慢。中速基本 LFS 系统需要 8-12 秒，其中引导时间是从第一条内核消息到登录提示进行测量的。网络连接通常在登录提示后约 2 秒建立。</li>
<li>启动任务的串行处理。这与上一点有关。任何进程（例如文件系统检查）的延迟都会延迟整个启动过程。</li>
<li>不直接支持控制组 (cgroups) 和每用户公平共享调度等高级功能。</li>
<li>添加脚本需要手动、静态的排序决策。</li>
</ul>

        <h3 id="lfs-bootscripts-20210608"   >
          <a href="#lfs-bootscripts-20210608" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#lfs-bootscripts-20210608"></a> LFS-Bootscripts-20210608</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf lfs-bootscripts-20210608.tar.xz</span><br><span class="line">cd lfs-bootscripts-20210608</span><br><span class="line"></span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf lfs-bootscripts-20210608</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="网络配置"   >
          <a href="#网络配置" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#网络配置"></a> 网络配置</h3>
      

        <h4 id="配置系统主机名"   >
          <a href="#配置系统主机名" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#配置系统主机名"></a> 配置系统主机名</h4>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;lfs-hippo_2021-12-11&quot; &gt; /etc/hostname</span><br></pre></td></tr></table></div></figure>

        <h4 id="设置hosts文件"   >
          <a href="#设置hosts文件" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#设置hosts文件"></a> 设置hosts文件</h4>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cat &gt; /etc/hosts &lt;&lt; &quot;EOF&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Begin /etc/hosts (no network card version)</span></span><br><span class="line">127.0.0.1 mylinux localhost</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">End /etc/hosts (no network card version)</span></span><br><span class="line">EOF</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h4 id="设置网络静态地址"   >
          <a href="#设置网络静态地址" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#设置网络静态地址"></a> 设置网络静态地址</h4>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/sysconfig/</span><br><span class="line">cat &gt; ifconfig.eth0 &lt;&lt; &quot;EOF&quot;</span><br><span class="line">ONBOOT=yes</span><br><span class="line">SERVICE=ipv4-static</span><br><span class="line">IP=192.168.44.128</span><br><span class="line">GATEWAY=192.168.44.2</span><br><span class="line">PREFIX=24</span><br><span class="line">BROADCAST=192.168.44.255</span><br><span class="line">EOF</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h4 id="设置dns"   >
          <a href="#设置dns" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#设置dns"></a> 设置DNS</h4>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cat &gt; /etc/resolv.conf &lt;&lt; &quot;EOF&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Begin /etc/resolv.conf</span></span><br><span class="line">202.38.193.33</span><br><span class="line">202.112.17.33</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">End /etc/resolv.conf</span></span><br><span class="line">EOF</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="system-v-引导脚本使用和配置"   >
          <a href="#system-v-引导脚本使用和配置" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#system-v-引导脚本使用和配置"></a> System V 引导脚本使用和配置</h3>
      
<p>Linux 使用一个名为 SysVinit 的特殊引导工具，它基于<em>运行级别</em>的概念。从一个系统到另一个系统可能会有很大的不同，所以不能假设因为在一个特定的 Linux 发行版中工作，它们在 LFS 中也应该工作相同。LFS 有自己的做事方式，但它尊重普遍接受的标准。</p>
<p>SysVinit（从现在起将被称为“ init ”）使用运行级别方案工作。共有七个（编号为 0 到 6）run-level（实际上还有更多的 run-level，但它们是针对特殊情况的，一般不使用。详情请参阅<code>init(8)</code>），每一个都对应于计算机应该在启动时执行。默认运行级别为 3。以下是对不同运行级别的描述：</p>
<p>0：停止计算机<br />
1：单用户模式<br />
2：不联网的多用户模式<br />
3：联网的多用户模式<br />
4：保留用于定制，其他同 3<br />
5：同 4，通常用于GUI 登录（如 X 的 <strong>xdm</strong> 或 KDE 的 <strong>kdm</strong>）<br />
6：重新启动计算机</p>

        <h4 id="配置sysinit"   >
          <a href="#配置sysinit" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#配置sysinit"></a> 配置Sysinit</h4>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">cat &gt; /etc/inittab &lt;&lt; &quot;EOF&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Begin /etc/inittab</span></span><br><span class="line"></span><br><span class="line">id:3:initdefault:</span><br><span class="line"></span><br><span class="line">si::sysinit:/etc/rc.d/init.d/rc S</span><br><span class="line"></span><br><span class="line">l0:0:wait:/etc/rc.d/init.d/rc 0</span><br><span class="line">l1:S1:wait:/etc/rc.d/init.d/rc 1</span><br><span class="line">l2:2:wait:/etc/rc.d/init.d/rc 2</span><br><span class="line">l3:3:wait:/etc/rc.d/init.d/rc 3</span><br><span class="line">l4:4:wait:/etc/rc.d/init.d/rc 4</span><br><span class="line">l5:5:wait:/etc/rc.d/init.d/rc 5</span><br><span class="line">l6:6:wait:/etc/rc.d/init.d/rc 6</span><br><span class="line"></span><br><span class="line">ca:12345:ctrlaltdel:/sbin/shutdown -t1 -a -r now</span><br><span class="line"></span><br><span class="line">su:S016:once:/sbin/sulogin</span><br><span class="line"></span><br><span class="line">1:2345:respawn:/sbin/agetty --noclear tty1 9600</span><br><span class="line">2:2345:respawn:/sbin/agetty tty2 9600</span><br><span class="line">3:2345:respawn:/sbin/agetty tty3 9600</span><br><span class="line">4:2345:respawn:/sbin/agetty tty4 9600</span><br><span class="line">5:2345:respawn:/sbin/agetty tty5 9600</span><br><span class="line">6:2345:respawn:/sbin/agetty tty6 9600</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">End /etc/inittab</span></span><br><span class="line">EOF</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h4 id="配置系统时钟"   >
          <a href="#配置系统时钟" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#配置系统时钟"></a> 配置系统时钟</h4>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cat &gt; /etc/sysconfig/clock &lt;&lt; &quot;EOF&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Begin /etc/sysconfig/clock</span></span><br><span class="line"></span><br><span class="line">UTC=1</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Set this to any options you might need to give to hwclock,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">such as machine hardware clock <span class="built_in">type</span> <span class="keyword">for</span> Alphas.</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">End /etc/sysconfig/clock</span></span><br><span class="line">EOF</span><br></pre></td></tr></table></div></figure>

        <h4 id="创建-etcinputrc-文件"   >
          <a href="#创建-etcinputrc-文件" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#创建-etcinputrc-文件"></a> 创建 /etc/inputrc 文件</h4>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">cat &gt; /etc/inputrc &lt;&lt; &quot;EOF&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Begin /etc/inputrc</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Modified by Chris Lynn &lt;roryo@roryo.dynup.net&gt;</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Allow the <span class="built_in">command</span> prompt to wrap to the next line</span></span><br><span class="line">set horizontal-scroll-mode Off</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Enable 8bit input</span></span><br><span class="line">set meta-flag On</span><br><span class="line">set input-meta On</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Turns off 8th bit stripping</span></span><br><span class="line">set convert-meta Off</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Keep the 8th bit <span class="keyword">for</span> display</span></span><br><span class="line">set output-meta On</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">none, visible or audible</span></span><br><span class="line">set bell-style none</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">All of the following map the escape sequence of the value</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">contained <span class="keyword">in</span> the 1st argument to the readline specific <span class="built_in">functions</span></span></span><br><span class="line">&quot;\eOd&quot;: backward-word</span><br><span class="line">&quot;\eOc&quot;: forward-word</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">for</span> linux console</span></span><br><span class="line">&quot;\e[1~&quot;: beginning-of-line</span><br><span class="line">&quot;\e[4~&quot;: end-of-line</span><br><span class="line">&quot;\e[5~&quot;: beginning-of-history</span><br><span class="line">&quot;\e[6~&quot;: end-of-history</span><br><span class="line">&quot;\e[3~&quot;: delete-char</span><br><span class="line">&quot;\e[2~&quot;: quoted-insert</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">for</span> xterm</span></span><br><span class="line">&quot;\eOH&quot;: beginning-of-line</span><br><span class="line">&quot;\eOF&quot;: end-of-line</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">for</span> Konsole</span></span><br><span class="line">&quot;\e[H&quot;: beginning-of-line</span><br><span class="line">&quot;\e[F&quot;: end-of-line</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">End /etc/inputrc</span></span><br><span class="line">EOF</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h4 id="创建-etcshells-文件"   >
          <a href="#创建-etcshells-文件" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#创建-etcshells-文件"></a> 创建 /etc/shells 文件</h4>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cat &gt; /etc/shells &lt;&lt; &quot;EOF&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Begin /etc/shells</span></span><br><span class="line"></span><br><span class="line">/bin/sh</span><br><span class="line">/bin/bash</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">End /etc/shells</span></span><br><span class="line">EOF</span><br></pre></td></tr></table></div></figure>

        <h3 id="创建bash-shell启动文件"   >
          <a href="#创建bash-shell启动文件" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#创建bash-shell启动文件"></a> 创建Bash Shell启动文件</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cat &gt; /etc/profile &lt;&lt; &quot;EOF&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Begin /etc/profile</span></span><br><span class="line">export LANG=zh_CN.UTF-8</span><br><span class="line">export INPUTRC=/etc/inputrc</span><br><span class="line">alias ls=&quot;ls --color&quot;</span><br><span class="line">export PS1=&#x27;\u:\w\$ &#x27;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">End /etc/profile</span></span><br><span class="line">EOF</span><br></pre></td></tr></table></div></figure>

        <h2 id="第10节-使lfs系统可引导"   >
          <a href="#第10节-使lfs系统可引导" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#第10节-使lfs系统可引导"></a> 第10节 使LFS系统可引导</h2>
      

        <h3 id="创建etcfstab文件"   >
          <a href="#创建etcfstab文件" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#创建etcfstab文件"></a> 创建/etc/fstab文件</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">cat &gt; /etc/fstab &lt;&lt; &quot;EOF&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Begin /etc/fstab</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">file system  mount-point  <span class="built_in">type</span>     options             dump  fsck</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">                                                             order</span></span><br><span class="line"></span><br><span class="line">/dev/sda3      /            ext4     defaults             1     1</span><br><span class="line">/dev/sda2      swap         swap     pri=1                0     0</span><br><span class="line">proc           /proc        proc     nosuid,noexec,nodev 0     0</span><br><span class="line">sysfs          /sys         sysfs    nosuid,noexec,nodev 0     0</span><br><span class="line">devpts         /dev/pts     devpts   gid=5,mode=620      0     0</span><br><span class="line">tmpfs          /run         tmpfs    defaults            0     0</span><br><span class="line">devtmpfs       /dev         devtmpfs mode=0755,nosuid    0     0</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">End /etc/fstab</span></span><br><span class="line">EOF</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="安装内核linux-51312"   >
          <a href="#安装内核linux-51312" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#安装内核linux-51312"></a> 安装内核Linux-5.13.12</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cd /sources</span><br><span class="line">tar -xvf linux-5.13.12.tar.xz</span><br><span class="line">cd linux-5.13.12</span><br><span class="line"></span><br><span class="line">make mrproper</span><br><span class="line">make menuconfig</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>
<p>一定要按照以下列表启用/禁用/设定其中列出的内核特性，否则系统可能不能正常工作，甚至根本无法引导：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">Device Drivers  ---&gt;</span><br><span class="line">  Generic Driver Options  ---&gt;</span><br><span class="line">   [ ] Support for uevent helper [CONFIG_UEVENT_HELPER]</span><br><span class="line">   [*] Maintain a devtmpfs filesystem to mount at /dev [CONFIG_DEVTMPFS]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">General setup --&gt;</span><br><span class="line">   [ ] Auditing Support [CONFIG_AUDIT]</span><br><span class="line">   [*] Control Group support [CONFIG_CGROUPS]</span><br><span class="line">   [ ] Enable deprecated sysfs features to support old userspace tools [CONFIG_SYSFS_DEPRECATED]</span><br><span class="line">   [*] Configure standard kernel features (expert users) [CONFIG_EXPERT] ---&gt;         </span><br><span class="line">      [*] open by fhandle syscalls [CONFIG_FHANDLE]</span><br><span class="line">Processor type and features  ---&gt;</span><br><span class="line">   [*] Enable seccomp to safely compute untrusted bytecode [CONFIG_SECCOMP]?????</span><br><span class="line">Firmware Drivers  ---&gt;</span><br><span class="line">   [*] Export DMI identification via sysfs to userspace [CONFIG_DMIID]</span><br><span class="line">Networking support  ---&gt;</span><br><span class="line">  Networking options  ---&gt;</span><br><span class="line">   &lt;*&gt; The IPv6 protocol [CONFIG_IPV6]</span><br><span class="line">Device Drivers  ---&gt;</span><br><span class="line">  Generic Driver Options  ---&gt;</span><br><span class="line">   [ ] Support for uevent helper [CONFIG_UEVENT_HELPER]</span><br><span class="line">   [*] Maintain a devtmpfs filesystem to mount at /dev [CONFIG_DEVTMPFS]</span><br><span class="line">   Firmware Loader ---&gt;</span><br><span class="line">      [ ] Enable the firmware sysfs fallback mechanism [CONFIG_FW_LOADER_USER_HELPER]</span><br><span class="line">File systems  ---&gt;</span><br><span class="line">   [*] Inotify support for userspace [CONFIG_INOTIFY_USER]</span><br><span class="line">  Pseudo filesystems  ---&gt;</span><br><span class="line">   [*] Tmpfs POSIX Access Control Lists [CONFIG_TMPFS_POSIX_ACL]</span><br></pre></td></tr></table></div></figure>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">make</span><br><span class="line">make modules_install</span><br><span class="line">cp -iv arch/x86_64/boot/bzImage /boot/vmlinuz-5.13.12-lfs-11.0-systemd</span><br><span class="line">cp -iv System.map /boot/System.map-5.13.12</span><br><span class="line">cp -iv .config /boot/config-5.13.12</span><br><span class="line">install -d /usr/share/doc/linux-5.13.12</span><br><span class="line">cp -r Documentation/* /usr/share/doc/linux-5.13.12</span><br><span class="line"></span><br><span class="line">install -v -m755 -d /etc/modprobe.d</span><br><span class="line"></span><br><span class="line">cat &gt; /etc/modprobe.d/usb.conf &lt;&lt; &quot;EOF&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Begin /etc/modprobe.d/usb.conf</span></span><br><span class="line">install ohci_hcd /sbin/modprobe ehci_hcd ; /sbin/modprobe -i ohci_hcd ; true</span><br><span class="line">install uhci_hcd /sbin/modprobe ehci_hcd ; /sbin/modprobe -i uhci_hcd ; true</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">End /etc/modprobe.d/usb.conf</span></span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">cd ..</span><br><span class="line">rm -rf linux-5.13.12</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

        <h3 id="grub"   >
          <a href="#grub" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#grub"></a> GRUB</h3>
      
<p>设定 GRUB 配置<br />
GRUB 的工作方式是，将数据写入硬盘的第一个物理磁道。这里不属于任何文件系统，在启动时，第一个物理磁道中的程序从引导分区加载 GRUB 模块，默认在 /boot/grub 中查找模块。</p>
<p>引导分区的位置由负责进行配置的用户自己决定，作者推荐创建一个小的 (建议大小为 200 MB) 分区，专门存放引导信息。这样，不同的 Linux 系统 (无论是 LFS 还是商业发行版) 在启动时和启动后都能访问相同的引导文件。如果您选择这样做，您需要挂载这个单独的分区，将 /boot 中已有的文件 (例如上一节中构建的内核) 移动到新的分区中。之后，解除该分区的挂载，并将它挂载为 /boot。另外，还要注意更新 /etc/fstab。</p>
<p>直接使用 LFS 分区也是可以的，但这样在配置多系统启动时比较麻烦。</p>
<p>根据以上信息，确定 LFS 根分区 (或 boot 分区，如果使用了独立的 boot 分区) 的名称。下面 LFS 根分区 (或 boot 分区) 是 sda3。</p>
<p>将 GRUB 文件安装到 /boot/grub 并设定引导磁道：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">grub-install /dev/sda</span><br><span class="line"></span><br><span class="line">cat &gt; /boot/grub/grub.cfg &lt;&lt; &quot;EOF&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Begin /boot/grub/grub.cfg</span></span><br><span class="line">set default=0</span><br><span class="line">set timeout=5</span><br><span class="line"></span><br><span class="line">insmod ext2</span><br><span class="line">set root=(hd0,3)</span><br><span class="line"></span><br><span class="line">menuentry &quot;GNU/Linux, Linux 5.13.12-lfs-11.0-systemd&quot; &#123;</span><br><span class="line">        linux   /boot/vmlinuz-5.13.12-lfs-11.0-systemd root=/dev/sda3 ro</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>
<p>GRUB 是一个非常强大的程序，它提供了大量的选项来从各种设备、操作系统和分区类型进行引导。还有许多自定义选项，例如图形闪屏、播放声音、鼠标输入等。这些选项的详细信息超出了本介绍的范围。</p>

        <h2 id="第11节-尾声"   >
          <a href="#第11节-尾声" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#第11节-尾声"></a> 第11节 尾声</h2>
      

        <h3 id="创建关于lfs的版本信息"   >
          <a href="#创建关于lfs的版本信息" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#创建关于lfs的版本信息"></a> 创建关于LFS的版本信息</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">echo 11.0 &gt; /etc/lfs-release</span><br><span class="line"></span><br><span class="line">cat &gt; /etc/lsb-release &lt;&lt; &quot;EOF&quot;</span><br><span class="line">DISTRIB_ID=&quot;Linux From Scratch&quot;</span><br><span class="line">DISTRIB_RELEASE=&quot;11.0&quot;</span><br><span class="line">DISTRIB_CODENAME=&quot;LFS-11.0_2021_12_11&quot;</span><br><span class="line">DISTRIB_DESCRIPTION=&quot;Linux From Scratch&quot;</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cat &gt; /etc/os-release &lt;&lt; &quot;EOF&quot;</span><br><span class="line">NAME=&quot;Linux From Scratch&quot;</span><br><span class="line">VERSION=&quot;11.0&quot;</span><br><span class="line">ID=lfs</span><br><span class="line">PRETTY_NAME=&quot;Linux From Scratch 11.0&quot;</span><br><span class="line">VERSION_CODENAME=&quot;LFS-11.0_2021_12_11&quot;</span><br><span class="line">EOF</span><br></pre></td></tr></table></div></figure>

        <h3 id="重启"   >
          <a href="#重启" class="heading-link"><i class="fas fa-link"></i></a><a class="markdownIt-Anchor" href="#重启"></a> 重启</h3>
      
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">logout</span><br><span class="line"></span><br><span class="line">umount -RV $LFS</span><br><span class="line"></span><br><span class="line">shutdown -r now</span><br></pre></td></tr></table></div></figure>
<blockquote>
<p>笔者重启后无法进入Gurb引导界面，因此无法进入构建的LFS系统，于是直接寄寄寄寄，大寄。</p>
</blockquote>
</div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ 本文结束，感谢您的阅读 ------</div></div><div class="post-copyright copyright"><div class="copyright-author"><span class="copyright-author__name">本文作者: </span><span class="copyright-author__value"><a href="http://hipposox.github.io">HippoSoX</a></span></div><div class="copyright-link"><span class="copyright-link__name">本文链接: </span><span class="copyright-link__value"><a href="http://hipposox.github.io/2023/01/12/LFS-V-%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE/">http://hipposox.github.io/2023/01/12/LFS-V-%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE/</a></span></div><div class="copyright-notice"><span class="copyright-notice__name">版权声明: </span><span class="copyright-notice__value">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="external nofollow" target="_blank">BY-NC-SA</a> 许可协议。转载请注明出处！</span></div></div><div class="post-tags"><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="http://hipposox.github.io/tags/LFS/">LFS</a></span></div><nav class="post-paginator paginator"><div class="paginator-next"><a class="paginator-next__link" href="/2023/01/12/LFS-IV%E6%9E%84%E5%BB%BALFS%E7%B3%BB%E7%BB%9F/"><span class="paginator-prev__text">LFS-IV-构建LFS系统</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">文章目录</span><span class="sidebar-nav-ov">站点概览</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#v-%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE"><span class="toc-number">1.</span> <span class="toc-text">
           V 系统配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC9%E8%8A%82-%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.</span> <span class="toc-text">
           第9节 系统配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#system-v"><span class="toc-number">1.1.1.</span> <span class="toc-text">
           system V</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A5%BD%E5%A4%84"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">
           好处</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9"><span class="toc-number">1.1.1.2.</span> <span class="toc-text">
           缺点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lfs-bootscripts-20210608"><span class="toc-number">1.1.2.</span> <span class="toc-text">
           LFS-Bootscripts-20210608</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.3.</span> <span class="toc-text">
           网络配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E7%B3%BB%E7%BB%9F%E4%B8%BB%E6%9C%BA%E5%90%8D"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">
           配置系统主机名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AEhosts%E6%96%87%E4%BB%B6"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">
           设置hosts文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E7%BD%91%E7%BB%9C%E9%9D%99%E6%80%81%E5%9C%B0%E5%9D%80"><span class="toc-number">1.1.3.3.</span> <span class="toc-text">
           设置网络静态地址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AEdns"><span class="toc-number">1.1.3.4.</span> <span class="toc-text">
           设置DNS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#system-v-%E5%BC%95%E5%AF%BC%E8%84%9A%E6%9C%AC%E4%BD%BF%E7%94%A8%E5%92%8C%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.4.</span> <span class="toc-text">
           System V 引导脚本使用和配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AEsysinit"><span class="toc-number">1.1.4.1.</span> <span class="toc-text">
           配置Sysinit</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%92%9F"><span class="toc-number">1.1.4.2.</span> <span class="toc-text">
           配置系统时钟</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-etcinputrc-%E6%96%87%E4%BB%B6"><span class="toc-number">1.1.4.3.</span> <span class="toc-text">
           创建 &#x2F;etc&#x2F;inputrc 文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-etcshells-%E6%96%87%E4%BB%B6"><span class="toc-number">1.1.4.4.</span> <span class="toc-text">
           创建 &#x2F;etc&#x2F;shells 文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAbash-shell%E5%90%AF%E5%8A%A8%E6%96%87%E4%BB%B6"><span class="toc-number">1.1.5.</span> <span class="toc-text">
           创建Bash Shell启动文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC10%E8%8A%82-%E4%BD%BFlfs%E7%B3%BB%E7%BB%9F%E5%8F%AF%E5%BC%95%E5%AF%BC"><span class="toc-number">1.2.</span> <span class="toc-text">
           第10节 使LFS系统可引导</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAetcfstab%E6%96%87%E4%BB%B6"><span class="toc-number">1.2.1.</span> <span class="toc-text">
           创建&#x2F;etc&#x2F;fstab文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%86%85%E6%A0%B8linux-51312"><span class="toc-number">1.2.2.</span> <span class="toc-text">
           安装内核Linux-5.13.12</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#grub"><span class="toc-number">1.2.3.</span> <span class="toc-text">
           GRUB</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC11%E8%8A%82-%E5%B0%BE%E5%A3%B0"><span class="toc-number">1.3.</span> <span class="toc-text">
           第11节 尾声</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%85%B3%E4%BA%8Elfs%E7%9A%84%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="toc-number">1.3.1.</span> <span class="toc-text">
           创建关于LFS的版本信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%90%AF"><span class="toc-number">1.3.2.</span> <span class="toc-text">
           重启</span></a></li></ol></li></ol></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/icons/stun-logo.svg" alt="avatar"></div><p class="sidebar-ov-author__text">motto</p></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">18</div><div class="sidebar-ov-state-item__name">归档</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">4</div><div class="sidebar-ov-state-item__name">分类</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">14</div><div class="sidebar-ov-state-item__name">标签</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="知识共享许可协议" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">你已阅读了 </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div class="sidebar-reading-line"></div></div><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1449790718&auto=1&height=66"></iframe></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2023</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>HippoSoX</span></div><div><span>由 <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> 强力驱动</span><span> v5.4.2</span><span class="footer__devider">|</span><span>主题 - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.8.0</span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lazyload@2.0.0-rc.2/lazyload.min.js"></script><script src="/js/utils.js?v=2.8.0"></script><script src="/js/stun-boot.js?v=2.8.0"></script><script src="/js/scroll.js?v=2.8.0"></script><script src="/js/header.js?v=2.8.0"></script><script src="/js/sidebar.js?v=2.8.0"></script></body></html>